(self.webpackChunkmisslilymusicstudio=self.webpackChunkmisslilymusicstudio||[]).push([[269],{9269:(re,T,U)=>{"use strict";U.r(T),U.d(T,{HomeModule:()=>$n});var v=U(177),e=U(303),d=U(5543),t=U(540);let u=(()=>{class r{constructor(){this.imageUrl="",this.altText="Foto de perfil",this._size="100px"}set size(i){this._size=i,document.documentElement.style.setProperty("--size",i)}get size(){return this._size}static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-profile-picture"]],inputs:{imageUrl:"imageUrl",altText:"altText",size:"size"},decls:1,vars:2,consts:[[1,"profile-picture",3,"src"]],template:function(f,M){1&f&&t.nrm(0,"img",0),2&f&&(t.Y8G("src",M.imageUrl,t.B4B),t.BMQ("alt",M.altText))},styles:['@charset "UTF-8";.profile-picture[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover;border:3px solid var(--color-mustard);box-shadow:0 4px 8px #0003;display:block;width:var(--size, 100px);height:var(--size, 100px);aspect-ratio:1/1}@media (max-width: 600px){.profile-picture[_ngcontent-%COMP%]{--size: 275px;border-width:2px}}@media (min-width: 601px) and (max-width: 1024px){.profile-picture[_ngcontent-%COMP%]{--size: 500px}}']})}}return r})();var m=U(7673),o=U(1626);let g=(()=>{class r{constructor(i){this.http=i}sendEmail(i){return(0,m.of)({success:!0})}static{this.\u0275fac=function(f){return new(f||r)(t.KVO(o.Qq))}}static{this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var c=U(6648),n=U(1985),a=U(3073),s=U(8750),h=U(3794),x=U(4360),V=U(6450),D=U(8496),p=U(6354);let C=(()=>{class r{constructor(i,f){this._renderer=i,this._elementRef=f,this.onChange=M=>{},this.onTouched=()=>{}}setProperty(i,f){this._renderer.setProperty(this._elementRef.nativeElement,i,f)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(t.sFG),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:r})}}return r})(),S=(()=>{class r extends C{static{this.\u0275fac=function(){let i;return function(M){return(i||(i=t.xGo(r)))(M||r)}}()}static{this.\u0275dir=t.FsC({type:r,features:[t.Vt3]})}}return r})();const y=new t.nKC("NgValueAccessor"),w={provide:y,useExisting:(0,t.Rfq)(()=>O),multi:!0},b=new t.nKC("CompositionEventMode");let O=(()=>{class r extends C{constructor(i,f,M){super(i,f),this._compositionMode=M,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function E(){const r=(0,v.QT)()?(0,v.QT)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(b,8))}}static{this.\u0275dir=t.FsC({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(f,M){1&f&&t.bIt("input",function(N){return M._handleInput(N.target.value)})("blur",function(){return M.onTouched()})("compositionstart",function(){return M._compositionStart()})("compositionend",function(N){return M._compositionEnd(N.target.value)})},features:[t.Jv_([w]),t.Vt3]})}}return r})();const I=new t.nKC("NgValidators"),R=new t.nKC("NgAsyncValidators");function J(r){return function _(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}(r.value)?{required:!0}:null}function at(r){return null}function et(r){return null!=r}function nt(r){return(0,t.jNT)(r)?(0,c.H)(r):r}function Q(r){let l={};return r.forEach(i=>{l=null!=i?{...l,...i}:l}),0===Object.keys(l).length?null:l}function Ft(r,l){return l.map(i=>i(r))}function Dt(r){return r.map(l=>function Gt(r){return!r.validate}(l)?l:i=>l.validate(i))}function ht(r){return null!=r?function xt(r){if(!r)return null;const l=r.filter(et);return 0==l.length?null:function(i){return Q(Ft(i,l))}}(Dt(r)):null}function it(r){return null!=r?function pt(r){if(!r)return null;const l=r.filter(et);return 0==l.length?null:function(i){return function F(...r){const l=(0,h.ms)(r),{args:i,keys:f}=(0,a.D)(r),M=new n.c(B=>{const{length:N}=i;if(!N)return void B.complete();const Z=new Array(N);let ot=N,H=N;for(let z=0;z<N;z++){let Y=!1;(0,s.Tg)(i[z]).subscribe((0,x._)(B,dt=>{Y||(Y=!0,H--),Z[z]=dt},()=>ot--,void 0,()=>{(!ot||!Y)&&(H||B.next(f?(0,D.e)(f,Z):Z),B.complete())}))}});return l?M.pipe((0,V.I)(l)):M}(Ft(i,l).map(nt)).pipe((0,p.T)(Q))}}(Dt(r)):null}function Ct(r,l){return null===r?[l]:Array.isArray(r)?[...r,l]:[r,l]}function mt(r){return r?Array.isArray(r)?r:[r]:[]}function lt(r,l){return Array.isArray(r)?r.includes(l):r===l}function St(r,l){const i=mt(l);return mt(r).forEach(M=>{lt(i,M)||i.push(M)}),i}function ut(r,l){return mt(l).filter(i=>!lt(r,i))}class bt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(l){this._rawValidators=l||[],this._composedValidatorFn=ht(this._rawValidators)}_setAsyncValidators(l){this._rawAsyncValidators=l||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(l){this._onDestroyCallbacks.push(l)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(l=>l()),this._onDestroyCallbacks=[]}reset(l=void 0){this.control&&this.control.reset(l)}hasError(l,i){return!!this.control&&this.control.hasError(l,i)}getError(l,i){return this.control?this.control.getError(l,i):null}}class K extends bt{get formDirective(){return null}get path(){return null}}class rt extends bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ct{constructor(l){this._cd=l}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let oe=(()=>{class r extends ct{constructor(i){super(i)}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(rt,2))}}static{this.\u0275dir=t.FsC({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(f,M){2&f&&t.AVh("ng-untouched",M.isUntouched)("ng-touched",M.isTouched)("ng-pristine",M.isPristine)("ng-dirty",M.isDirty)("ng-valid",M.isValid)("ng-invalid",M.isInvalid)("ng-pending",M.isPending)},features:[t.Vt3]})}}return r})(),se=(()=>{class r extends ct{constructor(i){super(i)}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(K,10))}}static{this.\u0275dir=t.FsC({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(f,M){2&f&&t.AVh("ng-untouched",M.isUntouched)("ng-touched",M.isTouched)("ng-pristine",M.isPristine)("ng-dirty",M.isDirty)("ng-valid",M.isValid)("ng-invalid",M.isInvalid)("ng-pending",M.isPending)("ng-submitted",M.isSubmitted)},features:[t.Vt3]})}}return r})();const wt="VALID",Ot="INVALID",vt="PENDING",Vt="DISABLED";function Wt(r){return(_t(r)?r.validators:r)||null}function jt(r,l){return(_t(l)?l.asyncValidators:r)||null}function _t(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Xt{constructor(l,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(l),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(l){this._rawValidators=this._composedValidatorFn=l}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(l){this._rawAsyncValidators=this._composedAsyncValidatorFn=l}get parent(){return this._parent}get valid(){return this.status===wt}get invalid(){return this.status===Ot}get pending(){return this.status==vt}get disabled(){return this.status===Vt}get enabled(){return this.status!==Vt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(l){this._assignValidators(l)}setAsyncValidators(l){this._assignAsyncValidators(l)}addValidators(l){this.setValidators(St(l,this._rawValidators))}addAsyncValidators(l){this.setAsyncValidators(St(l,this._rawAsyncValidators))}removeValidators(l){this.setValidators(ut(l,this._rawValidators))}removeAsyncValidators(l){this.setAsyncValidators(ut(l,this._rawAsyncValidators))}hasValidator(l){return lt(this._rawValidators,l)}hasAsyncValidator(l){return lt(this._rawAsyncValidators,l)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(l={}){this.touched=!0,this._parent&&!l.onlySelf&&this._parent.markAsTouched(l)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(l=>l.markAllAsTouched())}markAsUntouched(l={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}markAsDirty(l={}){this.pristine=!1,this._parent&&!l.onlySelf&&this._parent.markAsDirty(l)}markAsPristine(l={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}markAsPending(l={}){this.status=vt,!1!==l.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!l.onlySelf&&this._parent.markAsPending(l)}disable(l={}){const i=this._parentMarkedDirty(l.onlySelf);this.status=Vt,this.errors=null,this._forEachChild(f=>{f.disable({...l,onlySelf:!0})}),this._updateValue(),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...l,skipPristineCheck:i}),this._onDisabledChange.forEach(f=>f(!0))}enable(l={}){const i=this._parentMarkedDirty(l.onlySelf);this.status=wt,this._forEachChild(f=>{f.enable({...l,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent}),this._updateAncestors({...l,skipPristineCheck:i}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(l){this._parent&&!l.onlySelf&&(this._parent.updateValueAndValidity(l),l.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(l){this._parent=l}getRawValue(){return this.value}updateValueAndValidity(l={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wt||this.status===vt)&&this._runAsyncValidator(l.emitEvent)),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!l.onlySelf&&this._parent.updateValueAndValidity(l)}_updateTreeValidity(l={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(l)),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vt:wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(l){if(this.asyncValidator){this.status=vt,this._hasOwnPendingAsyncValidator=!0;const i=nt(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:l})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(l,i={}){this.errors=l,this._updateControlsErrors(!1!==i.emitEvent)}get(l){let i=l;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((f,M)=>f&&f._find(M),this)}getError(l,i){const f=i?this.get(i):this;return f&&f.errors?f.errors[l]:null}hasError(l,i){return!!this.getError(l,i)}get root(){let l=this;for(;l._parent;)l=l._parent;return l}_updateControlsErrors(l){this.status=this._calculateStatus(),l&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(l)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?Vt:this.errors?Ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vt)?vt:this._anyControlsHaveStatus(Ot)?Ot:wt}_anyControlsHaveStatus(l){return this._anyControls(i=>i.status===l)}_anyControlsDirty(){return this._anyControls(l=>l.dirty)}_anyControlsTouched(){return this._anyControls(l=>l.touched)}_updatePristine(l={}){this.pristine=!this._anyControlsDirty(),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}_updateTouched(l={}){this.touched=this._anyControlsTouched(),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}_registerOnCollectionChange(l){this._onCollectionChange=l}_setUpdateStrategy(l){_t(l)&&null!=l.updateOn&&(this._updateOn=l.updateOn)}_parentMarkedDirty(l){return!l&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(l){return null}_assignValidators(l){this._rawValidators=Array.isArray(l)?l.slice():l,this._composedValidatorFn=function We(r){return Array.isArray(r)?ht(r):r||null}(this._rawValidators)}_assignAsyncValidators(l){this._rawAsyncValidators=Array.isArray(l)?l.slice():l,this._composedAsyncValidatorFn=function je(r){return Array.isArray(r)?it(r):r||null}(this._rawAsyncValidators)}}class zt extends Xt{constructor(l,i,f){super(Wt(i),jt(f,i)),this.controls=l,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(l,i){return this.controls[l]?this.controls[l]:(this.controls[l]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(l,i,f={}){this.registerControl(l,i),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(l,i={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(l,i,f={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],i&&this.registerControl(l,i),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(l){return this.controls.hasOwnProperty(l)&&this.controls[l].enabled}setValue(l,i={}){(function ue(r,l,i){r._forEachChild((f,M)=>{if(void 0===i[M])throw new t.wOt(1002,"")})})(this,0,l),Object.keys(l).forEach(f=>{(function le(r,l,i){const f=r.controls;if(!(l?Object.keys(f):f).length)throw new t.wOt(1e3,"");if(!f[i])throw new t.wOt(1001,"")})(this,!0,f),this.controls[f].setValue(l[f],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(l,i={}){null!=l&&(Object.keys(l).forEach(f=>{const M=this.controls[f];M&&M.patchValue(l[f],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(l={},i={}){this._forEachChild((f,M)=>{f.reset(l?l[M]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(l,i,f)=>(l[f]=i.getRawValue(),l))}_syncPendingControls(){let l=this._reduceChildren(!1,(i,f)=>!!f._syncPendingControls()||i);return l&&this.updateValueAndValidity({onlySelf:!0}),l}_forEachChild(l){Object.keys(this.controls).forEach(i=>{const f=this.controls[i];f&&l(f,i)})}_setUpControls(){this._forEachChild(l=>{l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(l){for(const[i,f]of Object.entries(this.controls))if(this.contains(i)&&l(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,f,M)=>((f.enabled||this.disabled)&&(i[M]=f.value),i))}_reduceChildren(l,i){let f=l;return this._forEachChild((M,B)=>{f=i(f,M,B)}),f}_allControlsDisabled(){for(const l of Object.keys(this.controls))if(this.controls[l].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(l){return this.controls.hasOwnProperty(l)?this.controls[l]:null}}const yt=new t.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>It}),It="always";function At(r,l,i=It){$t(r,l),l.valueAccessor.writeValue(r.value),(r.disabled||"always"===i)&&l.valueAccessor.setDisabledState?.(r.disabled),function $e(r,l){l.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&ce(r,l)})}(r,l),function Qe(r,l){const i=(f,M)=>{l.valueAccessor.writeValue(f),M&&l.viewToModelUpdate(f)};r.registerOnChange(i),l._registerOnDestroy(()=>{r._unregisterOnChange(i)})}(r,l),function Je(r,l){l.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&ce(r,l),"submit"!==r.updateOn&&r.markAsTouched()})}(r,l),function ze(r,l){if(l.valueAccessor.setDisabledState){const i=f=>{l.valueAccessor.setDisabledState(f)};r.registerOnDisabledChange(i),l._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}(r,l)}function kt(r,l){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(l)})}function $t(r,l){const i=function gt(r){return r._rawValidators}(r);null!==l.validator?r.setValidators(Ct(i,l.validator)):"function"==typeof i&&r.setValidators([i]);const f=function Mt(r){return r._rawAsyncValidators}(r);null!==l.asyncValidator?r.setAsyncValidators(Ct(f,l.asyncValidator)):"function"==typeof f&&r.setAsyncValidators([f]);const M=()=>r.updateValueAndValidity();kt(l._rawValidators,M),kt(l._rawAsyncValidators,M)}function ce(r,l){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),l.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}const tn={provide:K,useExisting:(0,t.Rfq)(()=>Nt)},Pt=(()=>Promise.resolve())();let Nt=(()=>{class r extends K{constructor(i,f,M){super(),this.callSetDisabledState=M,this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.bkB,this.form=new zt({},ht(i),it(f))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Pt.then(()=>{const f=this._findContainer(i.path);i.control=f.registerControl(i.name,i.control),At(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Pt.then(()=>{const f=this._findContainer(i.path);f&&f.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Pt.then(()=>{const f=this._findContainer(i.path),M=new zt({});(function fe(r,l){$t(r,l)})(M,i),f.registerControl(i.name,M),M.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Pt.then(()=>{const f=this._findContainer(i.path);f&&f.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,f){Pt.then(()=>{this.form.get(i.path).setValue(f)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function de(r,l){r._syncPendingControls(),l.forEach(i=>{const f=i.control;"submit"===f.updateOn&&f._pendingChange&&(i.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(I,10),t.rXU(R,10),t.rXU(yt,8))}}static{this.\u0275dir=t.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(f,M){1&f&&t.bIt("submit",function(N){return M.onSubmit(N)})("reset",function(){return M.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([tn]),t.Vt3]})}}return r})();function he(r,l){const i=r.indexOf(l);i>-1&&r.splice(i,1)}function pe(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const ge=class extends Xt{constructor(l=null,i,f){super(Wt(i),jt(f,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(l),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_t(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=pe(l)?l.value:l)}setValue(l,i={}){this.value=this._pendingValue=l,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(l,i={}){this.setValue(l,i)}reset(l=this.defaultValue,i={}){this._applyFormState(l),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(l){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(l){this._onChange.push(l)}_unregisterOnChange(l){he(this._onChange,l)}registerOnDisabledChange(l){this._onDisabledChange.push(l)}_unregisterOnDisabledChange(l){he(this._onDisabledChange,l)}_forEachChild(l){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(l){pe(l)?(this.value=this._pendingValue=l.value,l.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=l}},rn={provide:rt,useExisting:(0,t.Rfq)(()=>Yt)},ye=(()=>Promise.resolve())();let Yt=(()=>{class r extends rt{constructor(i,f,M,B,N,Z){super(),this._changeDetectorRef=N,this.callSetDisabledState=Z,this.control=new ge,this._registered=!1,this.name="",this.update=new t.bkB,this._parent=i,this._setValidators(f),this._setAsyncValidators(M),this.valueAccessor=function Kt(r,l){if(!l)return null;let i,f,M;return Array.isArray(l),l.forEach(B=>{B.constructor===O?i=B:function Ze(r){return Object.getPrototypeOf(r.constructor)===S}(B)?f=B:M=B}),M||f||i||null}(0,B)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const f=i.name.previousValue;this.formDirective.removeControl({name:f,path:this._getPath(f)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function Qt(r,l){if(!r.hasOwnProperty("model"))return!1;const i=r.model;return!!i.isFirstChange()||!Object.is(l,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){ye.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const f=i.isDisabled.currentValue,M=0!==f&&(0,t.L39)(f);ye.then(()=>{M&&!this.control.disabled?this.control.disable():!M&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function Bt(r,l){return[...l.path,r]}(i,this._parent):[i]}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(K,9),t.rXU(I,10),t.rXU(R,10),t.rXU(y,10),t.rXU(t.gRc,8),t.rXU(yt,8))}}static{this.\u0275dir=t.FsC({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.Jv_([rn]),t.Vt3,t.OA$]})}}return r})(),xe=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275dir=t.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})(),Me=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({})}}return r})(),ft=(()=>{class r{constructor(){this._validator=at}ngOnChanges(i){if(this.inputName in i){const f=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(f),this._validator=this._enabled?this.createValidator(f):at,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return null!=i}static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275dir=t.FsC({type:r,features:[t.OA$]})}}return r})();const Sn={provide:I,useExisting:(0,t.Rfq)(()=>Ut),multi:!0};let Ut=(()=>{class r extends ft{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.L39,this.createValidator=i=>J}enabled(i){return i}static{this.\u0275fac=function(){let i;return function(M){return(i||(i=t.xGo(r)))(M||r)}}()}static{this.\u0275dir=t.FsC({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(f,M){2&f&&t.BMQ("required",M._enabled?"":null)},inputs:{required:"required"},features:[t.Jv_([Sn]),t.Vt3]})}}return r})(),Dn=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[Me]})}}return r})(),En=(()=>{class r{static withConfig(i){return{ngModule:r,providers:[{provide:yt,useValue:i.callSetDisabledState??It}]}}static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[Dn]})}}return r})();function On(r,l){if(1&r&&(t.j41(0,"p",10),t.EFF(1),t.k0s()),2&r){const i=t.XpG();t.R7$(1),t.JRh(i.successMessage)}}let Ue=(()=>{class r{constructor(i){this.emailService=i,this.formData={name:"",email:"",message:""},this.successMessage=""}onSubmit(){console.log("mensaje enviado con exito!")}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(g))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-contact-form"]],decls:19,vars:4,consts:[[1,"contact-form"],[3,"ngSubmit"],["for","name"],["id","name","name","name","required","",3,"ngModel","ngModelChange"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModel","ngModelChange"],["for","message"],["id","message","name","message","required","",3,"ngModel","ngModelChange"],["type","submit"],["class","success-message",4,"ngIf"],[1,"success-message"]],template:function(f,M){1&f&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Contact"),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return M.onSubmit()}),t.j41(4,"div")(5,"label",2),t.EFF(6,"Name:"),t.k0s(),t.j41(7,"input",3),t.bIt("ngModelChange",function(N){return M.formData.name=N}),t.k0s()(),t.j41(8,"div")(9,"label",4),t.EFF(10,"Email:"),t.k0s(),t.j41(11,"input",5),t.bIt("ngModelChange",function(N){return M.formData.email=N}),t.k0s()(),t.j41(12,"div")(13,"label",6),t.EFF(14,"Message:"),t.k0s(),t.j41(15,"textarea",7),t.bIt("ngModelChange",function(N){return M.formData.message=N}),t.k0s()(),t.j41(16,"button",8),t.EFF(17,"Send"),t.k0s()()(),t.DNE(18,On,2,1,"p",9)),2&f&&(t.R7$(7),t.Y8G("ngModel",M.formData.name),t.R7$(4),t.Y8G("ngModel",M.formData.email),t.R7$(4),t.Y8G("ngModel",M.formData.message),t.R7$(3),t.Y8G("ngIf",M.successMessage))},dependencies:[v.bT,xe,O,oe,se,Ut,Yt,Nt],styles:[".contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.contact-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}.contact-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.contact-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px}.contact-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:var(--color-mustard);color:#fff;border:none;border-radius:4px;cursor:pointer}.contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-mustard-900)}.contact-form[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{color:green;margin-top:10px}"]})}}return r})(),_n=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-modal-contact"]],decls:2,vars:0,consts:[[1,"contact-container"]],template:function(f,M){1&f&&(t.j41(0,"div",0),t.nrm(1,"app-contact-form"),t.k0s())},dependencies:[Ue],styles:[".contact-container[_ngcontent-%COMP%]{padding:10px}"]})}}return r})(),In=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-about"]],decls:18,vars:0,consts:[[1,"about-content"],[1,"image"],["altText","Lily's Picture","size","450px","imageUrl","/assets/images/About.jpg"],[1,"signature"]],template:function(f,M){1&f&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"About me"),t.k0s(),t.j41(3,"p"),t.EFF(4,"Music has been my companion throughout my life for as long as I can remember. At the age of 4, I discovered the piano, and that first encounter marked the beginning of a journey that would lead me to explore other instruments such as the cello and, finally, singing. Since then, I have found in music not only a universal language, but also a space for expression and personal growth."),t.k0s(),t.j41(5,"p"),t.EFF(6," At age 16, I took my first steps as a teacher, sharing with others what I myself had learned to love since childhood. That early experience reaffirmed my vocation: teaching is not only about transmitting technique, but also about inspiring and igniting the same passion that transformed my life. "),t.k0s(),t.j41(7,"p"),t.EFF(8," Over time, I obtained my Bachelor's degree in Music and later a Master's degree in Orchestral Conducting, an education that has allowed me to understand music from deeper perspectives and connect with it in a comprehensive way. "),t.k0s(),t.j41(9,"p"),t.EFF(10," Today, I run my own music studio, a space where more than 20 students grow and improve every day. My goal is clear: to strive for excellence without losing sight of what drives us, our love and passion for music. "),t.k0s(),t.j41(11,"p"),t.EFF(12," Outside of class, I devote my free time to actively participating in musical projects such as conducting orchestras and collaborating with colleagues and universities, convinced that music is not only taught, but lived and shared."),t.k0s(),t.j41(13,"div",1),t.nrm(14,"app-profile-picture",2),t.k0s(),t.j41(15,"div",3)(16,"h3"),t.EFF(17,"Lily N. Blanchard"),t.k0s()()())},dependencies:[u],styles:[".about-content[_ngcontent-%COMP%]{padding:10px;text-align:center;font-family:Lora,serif;font-size:16px;line-height:1.6}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Limelight,cursive;font-size:28px;margin-bottom:15px}.about-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;text-align:justify}.about-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;margin-top:10px}.image[_ngcontent-%COMP%]{margin-top:32px;justify-content:center;text-align:center;justify-self:center}.signature[_ngcontent-%COMP%]{font-family:Allura,cursive;font-size:32px}"]})}}return r})();function Bn(r,l){if(1&r){const i=t.RV6();t.j41(0,"img",5),t.bIt("click",function(){const B=t.eBV(i).index,N=t.XpG(2);return t.Njj(N.openEnlarged(B))}),t.k0s()}if(2&r){const i=l.$implicit;t.Y8G("src",i.src,t.B4B)("alt",i.alt)}}function Tn(r,l){if(1&r&&(t.j41(0,"div",2)(1,"h2"),t.EFF(2,"Gallery"),t.k0s(),t.j41(3,"div",3),t.DNE(4,Bn,1,2,"img",4),t.k0s()()),2&r){const i=t.XpG();t.R7$(4),t.Y8G("ngForOf",i.images)}}function kn(r,l){if(1&r){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"button",8),t.bIt("click",function(){t.eBV(i);const M=t.XpG();return t.Njj(M.prevImage())}),t.EFF(3,"\u2190"),t.k0s(),t.nrm(4,"img",9),t.j41(5,"button",10),t.bIt("click",function(){t.eBV(i);const M=t.XpG();return t.Njj(M.nextImage())}),t.EFF(6,"\u2192"),t.k0s(),t.j41(7,"button",11),t.bIt("click",function(){t.eBV(i);const M=t.XpG();return t.Njj(M.closeEnlarged())}),t.EFF(8,"X"),t.k0s()()()}if(2&r){const i=t.XpG();t.R7$(4),t.Y8G("src",i.images[i.currentIndex].src,t.B4B)("alt",i.images[i.currentIndex].alt)}}let Rn=(()=>{class r{constructor(){this.images=[{src:"/assets/images/gallery1.jpg",alt:"Foto 1"},{src:"/assets/images/gallery2.jpg",alt:"Foto 2"},{src:"/assets/images/gallery3.jpg",alt:"Foto 3"},{src:"/assets/images/gallery4.jpg",alt:"Foto 4"},{src:"/assets/images/gallery5.jpg",alt:"Foto 5"}],this.isEnlarged=!1,this.currentIndex=0}openEnlarged(i){this.currentIndex=i,this.isEnlarged=!0}prevImage(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length}nextImage(){this.currentIndex=(this.currentIndex+1)%this.images.length}closeEnlarged(){this.isEnlarged=!1}static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-gallery"]],decls:2,vars:2,consts:[["class","gallery-content",4,"ngIf"],["class","enlarged-view",4,"ngIf"],[1,"gallery-content"],[1,"gallery-images"],["style","max-width: 100%; margin: 10px; cursor: pointer;",3,"src","alt","click",4,"ngFor","ngForOf"],[2,"max-width","100%","margin","10px","cursor","pointer",3,"src","alt","click"],[1,"enlarged-view"],[1,"enlarged-image-container"],[1,"nav-button","prev",3,"click"],[1,"enlarged-image",3,"src","alt"],[1,"nav-button","next",3,"click"],[1,"close-button",3,"click"]],template:function(f,M){1&f&&(t.DNE(0,Tn,5,1,"div",0),t.DNE(1,kn,9,2,"div",1)),2&f&&(t.Y8G("ngIf",!M.isEnlarged),t.R7$(1),t.Y8G("ngIf",M.isEnlarged))},dependencies:[v.Sq,v.bT],styles:[".gallery-content[_ngcontent-%COMP%]{padding:10px;text-align:center;font-family:Lora,serif}.gallery-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Limelight,cursive;font-size:28px;margin-bottom:15px}.gallery-content[_ngcontent-%COMP%]   .gallery-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.gallery-content[_ngcontent-%COMP%]   .gallery-images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:45%;margin:10px}.enlarged-view[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000e6;display:flex;justify-content:center;align-items:center;z-index:2000}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]{position:relative;text-align:center}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .enlarged-image[_ngcontent-%COMP%]{max-width:90%;max-height:80vh;object-fit:contain}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.2);border:none;color:#fff;font-size:24px;padding:10px;cursor:pointer;border-radius:50%}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .nav-button.prev[_ngcontent-%COMP%]{left:10px}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .nav-button.next[_ngcontent-%COMP%]{right:10px}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.4)}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;color:#fff;font-size:20px;cursor:pointer}.enlarged-view[_ngcontent-%COMP%]   .enlarged-image-container[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#ccc}"]})}}return r})();const Nn=["modalContent"];let Un=(()=>{class r{constructor(i,f,M){this.el=i,this.renderer=f,this.resolver=M,this.isOpen=!1,this.componentType="Contact",this.close=new t.bkB}open(){this.isOpen=!0,this.renderer.addClass(this.el.nativeElement,"open"),this.loadComponent()}closeModal(){this.isOpen=!1,this.renderer.removeClass(this.el.nativeElement,"open"),this.modalContent.clear(),this.close.emit()}loadComponent(){let i;switch(this.modalContent.clear(),this.componentType){case"Contact":i=this.resolver.resolveComponentFactory(_n);break;case"About me":i=this.resolver.resolveComponentFactory(In);break;case"Gallery":i=this.resolver.resolveComponentFactory(Rn);break;default:return}this.modalContent.createComponent(i)}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.OM3))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-modal"]],viewQuery:function(f,M){if(1&f&&t.GBs(Nn,5,t.c1b),2&f){let B;t.mGM(B=t.lsd())&&(M.modalContent=B.first)}},inputs:{isOpen:"isOpen",componentType:"componentType"},outputs:{close:"close"},decls:6,vars:2,consts:[[1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"close-button",3,"click"],["modalContent",""]],template:function(f,M){1&f&&(t.j41(0,"div",0),t.bIt("click",function(){return M.closeModal()}),t.j41(1,"div",1),t.bIt("click",function(N){return N.stopPropagation()}),t.j41(2,"button",2),t.bIt("click",function(){return M.closeModal()}),t.EFF(3,"X"),t.k0s(),t.eu8(4,null,3),t.k0s()()),2&f&&t.AVh("open",M.isOpen)},styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center;z-index:1000}.modal.open[_ngcontent-%COMP%]{display:flex}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;width:90%;max-width:500px;max-height:80vh;overflow-y:auto;position:relative;box-shadow:0 4px 8px #0003}.modal[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;border:none;background:none;font-size:20px;cursor:pointer}"]})}}return r})();const Gn=["bubblesCanvas"],Ln=["modal"];function Hn(r,l){1&r&&t.nrm(0,"app-contact-form")}const Wn=function(r){return{"fade-in":r}},jn=[{path:"",component:(()=>{class r{constructor(i){this.router=i,this.shouldAnimate=!1,this.bubbles=[{label:"Home",route:"/home",color:"rgba(64, 224, 208, 0.8)"},{label:"About me",route:"/about",color:"rgba(0, 191, 255, 0.8)"},{label:"Gallery",route:"/gallery",color:"rgba(255, 192, 203, 0.8)"},{label:"Contact",route:"/contact",color:"rgba(255, 219, 102, 0.8)"}],this.bubbleBodies=[]}ngOnInit(){sessionStorage.getItem("homeLoaded")?(this.shouldAnimate=!0,console.log("Animaci\xf3n omitida (ya cargado), forzando shouldAnimate =",this.shouldAnimate)):(this.shouldAnimate=!0,sessionStorage.setItem("homeLoaded","true"),console.log("Animaci\xf3n activada: shouldAnimate =",this.shouldAnimate))}ngAfterViewInit(){const i=this.canvasRef.nativeElement,f=window.innerWidth,M=window.innerHeight,B=H=>{let z=0;z=H<600?H/5:H<=1024?H/6:H/8;const dt=H/2-z*(this.bubbles.length-1)/2;return this.bubbles.map((ie,Jn)=>dt+Jn*z)},N=B(f),Z=.7*M;this.engine=d.Engine.create();const ot=this.engine.world;ot.gravity.y=-.09,this.render=d.Render.create({canvas:i,engine:this.engine,options:{width:f,height:M,wireframes:!1,background:"transparent"}}),d.World.add(ot,[d.Bodies.rectangle(f/2,0,f,10,{isStatic:!0,render:{fillStyle:"transparent",strokeStyle:"transparent"}}),d.Bodies.rectangle(f/2,M,f,10,{isStatic:!0,render:{fillStyle:"transparent",strokeStyle:"transparent"}}),d.Bodies.rectangle(0,M/2,10,M,{isStatic:!0,render:{fillStyle:"transparent",strokeStyle:"transparent"}}),d.Bodies.rectangle(f,M/2,10,M,{isStatic:!0,render:{fillStyle:"transparent",strokeStyle:"transparent"}})]),this.bubbles.forEach((H,z)=>{const Y=d.Bodies.circle(N[z],Z,70,{render:{fillStyle:H.color,strokeStyle:H.color,lineWidth:2},restitution:.8,frictionAir:.001});Y.route=H.route,Y.label=H.label,d.Body.setVelocity(Y,{x:2*(Math.random()-.5),y:2*(Math.random()-.5)}),this.bubbleBodies.push(Y),d.World.add(ot,Y)}),this.mouseConstraint=d.MouseConstraint.create(this.engine,{mouse:d.Mouse.create(i),constraint:{stiffness:.2,render:{visible:!1}}}),d.World.add(ot,this.mouseConstraint),this.runner=d.Runner.create(),d.Runner.run(this.runner,this.engine),d.Render.run(this.render),d.Events.on(this.mouseConstraint,"mouseup",H=>{console.log("Mouse up event:",H);const z=H.mouse,Y=d.Composite.allBodies(ot),dt=d.Query.point(Y,z.position)[0];if(console.log("Este es el hit:",dt),dt){const ie=dt.label;"Home"!=ie&&this.openModal(ie)}}),d.Events.on(this.render,"afterRender",()=>{const H=this.render.context;H.font="24px Limelight",H.textAlign="center",H.textBaseline="middle",H.fillStyle="white",this.bubbleBodies.forEach(z=>{const Y=z.label;Y&&H.fillText(Y,z.position.x,z.position.y)})}),window.addEventListener("resize",()=>{i.width=window.innerWidth,i.height=window.innerHeight,this.render.options.width=window.innerWidth,this.render.options.height=window.innerHeight;const H=B(window.innerWidth);this.bubbleBodies.forEach((z,Y)=>{d.Body.setPosition(z,{x:H[Y],y:Z})}),d.Render.lookAt(this.render,{min:{x:0,y:0},max:{x:window.innerWidth,y:window.innerHeight}})}),d.Render.world(this.render)}openModal(i){this.modal&&(this.modal.componentType=i,this.modal.open())}static{this.\u0275fac=function(f){return new(f||r)(t.rXU(e.Ix))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-home"]],viewQuery:function(f,M){if(1&f&&(t.GBs(Gn,5),t.GBs(Ln,5)),2&f){let B;t.mGM(B=t.lsd())&&(M.canvasRef=B.first),t.mGM(B=t.lsd())&&(M.modal=B.first)}},decls:12,vars:3,consts:[[1,"container"],[1,"profile-wrapper",3,"ngClass"],[1,"text-front"],["altText","Lily's Picture","size","450px","imageUrl","/assets/images/missLily.jpg"],[1,"text-back"],[1,"bubbles-canvas"],["bubblesCanvas",""],["modal",""]],template:function(f,M){1&f&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3,"Miss Lily's"),t.k0s(),t.nrm(4,"app-profile-picture",3),t.j41(5,"span",4),t.EFF(6,"Music Studio"),t.k0s()(),t.nrm(7,"canvas",5,6),t.j41(9,"app-modal",null,7),t.DNE(11,Hn,1,0,"ng-template"),t.k0s()()),2&f&&(t.R7$(1),t.Y8G("ngClass",t.eq3(1,Wn,M.shouldAnimate)))},dependencies:[v.YU,u,Un,Ue],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(to bottom right,var(--color-mustard-900),var(--color-mustard));padding:20px;box-sizing:border-box;width:100vw;overflow:hidden;position:relative;z-index:2}.profile-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;z-index:3}.profile-wrapper.fade-in[_ngcontent-%COMP%]   .text-front[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in-out forwards}.profile-wrapper.fade-in[_ngcontent-%COMP%]   .text-back[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in-out .3s forwards}.profile-wrapper.fade-in[_ngcontent-%COMP%]   app-profile-picture[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.5s ease-in-out .6s forwards}.text-front[_ngcontent-%COMP%], .text-back[_ngcontent-%COMP%]{font-size:5.5rem;position:absolute;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.3);opacity:0}.text-front[_ngcontent-%COMP%]{color:var(--color-rose-pink);font-family:Limelight,cursive;z-index:10;top:-50px}.text-back[_ngcontent-%COMP%]{color:var(--color-mustard-300);font-family:Allura,cursive;z-index:8;bottom:-50px}app-profile-picture[_ngcontent-%COMP%]{z-index:5;opacity:0}.bubbles-canvas[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 600px){.container[_ngcontent-%COMP%]{padding:10px}.text-front[_ngcontent-%COMP%], .text-back[_ngcontent-%COMP%]{font-size:3rem;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.text-front[_ngcontent-%COMP%]{top:-30px}.text-back[_ngcontent-%COMP%]{bottom:-30px}}@media (min-width: 601px) and (max-width: 1024px){.text-front[_ngcontent-%COMP%], .text-back[_ngcontent-%COMP%]{font-size:4rem}.text-front[_ngcontent-%COMP%]{top:-40px}.text-back[_ngcontent-%COMP%]{bottom:-40px}}"]})}}return r})()}];let Xn=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[e.iI.forChild(jn),e.iI]})}}return r})(),zn=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[v.MD]})}}return r})(),$n=(()=>{class r{static{this.\u0275fac=function(f){return new(f||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[v.MD,Xn,zn,En]})}}return r})()},5543:function(re){re.exports=function(T){var U={};function v(e){if(U[e])return U[e].exports;var d=U[e]={i:e,l:!1,exports:{}};return T[e].call(d.exports,d,d.exports,v),d.l=!0,d.exports}return v.m=T,v.c=U,v.d=function(e,d,t){v.o(e,d)||Object.defineProperty(e,d,{enumerable:!0,get:t})},v.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.t=function(e,d){if(1&d&&(e=v(e)),8&d||4&d&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(v.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&d&&"string"!=typeof e)for(var u in e)v.d(t,u,function(m){return e[m]}.bind(null,u));return t},v.n=function(e){var d=e&&e.__esModule?function(){return e.default}:function(){return e};return v.d(d,"a",d),d},v.o=function(e,d){return Object.prototype.hasOwnProperty.call(e,d)},v.p="",v(v.s=20)}([function(T,U){var v={};T.exports=v,function(){v._baseDelta=1e3/60,v._nextId=0,v._seed=0,v._nowStartTime=+new Date,v._warnedOnce={},v._decomp=null,v.extend=function(d,t){var u,o;"boolean"==typeof t?(u=2,o=t):(u=1,o=!0);for(var g=u;g<arguments.length;g++){var c=arguments[g];if(c)for(var n in c)!o||!c[n]||c[n].constructor!==Object||d[n]&&d[n].constructor!==Object?d[n]=c[n]:(d[n]=d[n]||{},v.extend(d[n],o,c[n]))}return d},v.clone=function(d,t){return v.extend({},t,d)},v.keys=function(d){if(Object.keys)return Object.keys(d);var t=[];for(var u in d)t.push(u);return t},v.values=function(d){var t=[];if(Object.keys){for(var u=Object.keys(d),m=0;m<u.length;m++)t.push(d[u[m]]);return t}for(var o in d)t.push(d[o]);return t},v.get=function(d,t,u,m){t=t.split(".").slice(u,m);for(var o=0;o<t.length;o+=1)d=d[t[o]];return d},v.set=function(d,t,u,m,o){var g=t.split(".").slice(m,o);return v.get(d,t,0,-1)[g[g.length-1]]=u,u},v.shuffle=function(d){for(var t=d.length-1;t>0;t--){var u=Math.floor(v.random()*(t+1)),m=d[t];d[t]=d[u],d[u]=m}return d},v.choose=function(d){return d[Math.floor(v.random()*d.length)]},v.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},v.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)},v.isFunction=function(d){return"function"==typeof d},v.isPlainObject=function(d){return"object"==typeof d&&d.constructor===Object},v.isString=function(d){return"[object String]"===toString.call(d)},v.clamp=function(d,t,u){return d<t?t:d>u?u:d},v.sign=function(d){return d<0?-1:1},v.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-v._nowStartTime},v.random=function(d,t){return t=typeof t<"u"?t:1,(d=typeof d<"u"?d:0)+e()*(t-d)};var e=function(){return v._seed=(9301*v._seed+49297)%233280,v._seed/233280};v.colorToNumber=function(d){return 3==(d=d.replace("#","")).length&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},v.logLevel=1,v.log=function(){console&&v.logLevel>0&&v.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.info=function(){console&&v.logLevel>0&&v.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.warn=function(){console&&v.logLevel>0&&v.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");v._warnedOnce[d]||(v.warn(d),v._warnedOnce[d]=!0)},v.deprecated=function(d,t,u){d[t]=v.chain(function(){v.warnOnce("\u{1f505} deprecated \u{1f505}",u)},d[t])},v.nextId=function(){return v._nextId++},v.indexOf=function(d,t){if(d.indexOf)return d.indexOf(t);for(var u=0;u<d.length;u++)if(d[u]===t)return u;return-1},v.map=function(d,t){if(d.map)return d.map(t);for(var u=[],m=0;m<d.length;m+=1)u.push(t(d[m]));return u},v.topologicalSort=function(d){var t=[],u=[],m=[];for(var o in d)!u[o]&&!m[o]&&v._topologicalSort(o,u,m,d,t);return t},v._topologicalSort=function(d,t,u,m,o){var g=m[d]||[];u[d]=!0;for(var c=0;c<g.length;c+=1){var n=g[c];u[n]||t[n]||v._topologicalSort(n,t,u,m,o)}u[d]=!1,t[d]=!0,o.push(d)},v.chain=function(){for(var d=[],t=0;t<arguments.length;t+=1){var u=arguments[t];u._chained?d.push.apply(d,u._chained):d.push(u)}var m=function(){for(var o,g=new Array(arguments.length),c=0,n=arguments.length;c<n;c++)g[c]=arguments[c];for(c=0;c<d.length;c+=1){var a=d[c].apply(o,g);typeof a<"u"&&(o=a)}return o};return m._chained=d,m},v.chainPathBefore=function(d,t,u){return v.set(d,t,v.chain(u,v.get(d,t)))},v.chainPathAfter=function(d,t,u){return v.set(d,t,v.chain(v.get(d,t),u))},v.setDecomp=function(d){v._decomp=d},v.getDecomp=function(){var d=v._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof global<"u"&&(d=global.decomp)}catch{d=null}return d}}()},function(T,U){var v={};T.exports=v,v.create=function(e){var d={min:{x:0,y:0},max:{x:0,y:0}};return e&&v.update(d,e),d},v.update=function(e,d,t){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var u=0;u<d.length;u++){var m=d[u];m.x>e.max.x&&(e.max.x=m.x),m.x<e.min.x&&(e.min.x=m.x),m.y>e.max.y&&(e.max.y=m.y),m.y<e.min.y&&(e.min.y=m.y)}t&&(t.x>0?e.max.x+=t.x:e.min.x+=t.x,t.y>0?e.max.y+=t.y:e.min.y+=t.y)},v.contains=function(e,d){return d.x>=e.min.x&&d.x<=e.max.x&&d.y>=e.min.y&&d.y<=e.max.y},v.overlaps=function(e,d){return e.min.x<=d.max.x&&e.max.x>=d.min.x&&e.max.y>=d.min.y&&e.min.y<=d.max.y},v.translate=function(e,d){e.min.x+=d.x,e.max.x+=d.x,e.min.y+=d.y,e.max.y+=d.y},v.shift=function(e,d){var t=e.max.x-e.min.x,u=e.max.y-e.min.y;e.min.x=d.x,e.max.x=d.x+t,e.min.y=d.y,e.max.y=d.y+u}},function(T,U){var v={};T.exports=v,v.create=function(e,d){return{x:e||0,y:d||0}},v.clone=function(e){return{x:e.x,y:e.y}},v.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},v.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},v.rotate=function(e,d,t){var u=Math.cos(d),m=Math.sin(d);t||(t={});var o=e.x*u-e.y*m;return t.y=e.x*m+e.y*u,t.x=o,t},v.rotateAbout=function(e,d,t,u){var m=Math.cos(d),o=Math.sin(d);u||(u={});var g=t.x+((e.x-t.x)*m-(e.y-t.y)*o);return u.y=t.y+((e.x-t.x)*o+(e.y-t.y)*m),u.x=g,u},v.normalise=function(e){var d=v.magnitude(e);return 0===d?{x:0,y:0}:{x:e.x/d,y:e.y/d}},v.dot=function(e,d){return e.x*d.x+e.y*d.y},v.cross=function(e,d){return e.x*d.y-e.y*d.x},v.cross3=function(e,d,t){return(d.x-e.x)*(t.y-e.y)-(d.y-e.y)*(t.x-e.x)},v.add=function(e,d,t){return t||(t={}),t.x=e.x+d.x,t.y=e.y+d.y,t},v.sub=function(e,d,t){return t||(t={}),t.x=e.x-d.x,t.y=e.y-d.y,t},v.mult=function(e,d){return{x:e.x*d,y:e.y*d}},v.div=function(e,d){return{x:e.x/d,y:e.y/d}},v.perp=function(e,d){return{x:(d=!0===d?-1:1)*-e.y,y:d*e.x}},v.neg=function(e){return{x:-e.x,y:-e.y}},v.angle=function(e,d){return Math.atan2(d.y-e.y,d.x-e.x)},v._temp=[v.create(),v.create(),v.create(),v.create(),v.create(),v.create()]},function(T,U,v){var e={};T.exports=e;var d=v(2),t=v(0);e.create=function(u,m){for(var o=[],g=0;g<u.length;g++){var c=u[g];o.push({x:c.x,y:c.y,index:g,body:m,isInternal:!1})}return o},e.fromPath=function(u,m){var g=[];return u.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,function(c,n,a){g.push({x:parseFloat(n),y:parseFloat(a)})}),e.create(g,m)},e.centre=function(u){for(var g,c,n,m=e.area(u,!0),o={x:0,y:0},a=0;a<u.length;a++)g=d.cross(u[a],u[n=(a+1)%u.length]),c=d.mult(d.add(u[a],u[n]),g),o=d.add(o,c);return d.div(o,6*m)},e.mean=function(u){for(var m={x:0,y:0},o=0;o<u.length;o++)m.x+=u[o].x,m.y+=u[o].y;return d.div(m,u.length)},e.area=function(u,m){for(var o=0,g=u.length-1,c=0;c<u.length;c++)o+=(u[g].x-u[c].x)*(u[g].y+u[c].y),g=c;return m?o/2:Math.abs(o)/2},e.inertia=function(u,m){for(var n,a,o=0,g=0,c=u,s=0;s<c.length;s++)a=(s+1)%c.length,o+=(n=Math.abs(d.cross(c[a],c[s])))*(d.dot(c[a],c[a])+d.dot(c[a],c[s])+d.dot(c[s],c[s])),g+=n;return m/6*(o/g)},e.translate=function(u,m,o){var a,g=u.length,c=m.x*(o=typeof o<"u"?o:1),n=m.y*o;for(a=0;a<g;a++)u[a].x+=c,u[a].y+=n;return u},e.rotate=function(u,m,o){if(0!==m){var h,x,V,D,g=Math.cos(m),c=Math.sin(m),n=o.x,a=o.y,s=u.length;for(D=0;D<s;D++)(h=u[D]).x=n+((x=h.x-n)*g-(V=h.y-a)*c),h.y=a+(x*c+V*g);return u}},e.contains=function(u,m){for(var a,o=m.x,g=m.y,c=u.length,n=u[c-1],s=0;s<c;s++){if((o-n.x)*((a=u[s]).y-n.y)+(g-n.y)*(n.x-a.x)>0)return!1;n=a}return!0},e.scale=function(u,m,o,g){if(1===m&&1===o)return u;g=g||e.centre(u);for(var n,a=0;a<u.length;a++)n=d.sub(u[a],g),u[a].x=g.x+n.x*m,u[a].y=g.y+n.y*o;return u},e.chamfer=function(u,m,o,g,c){m="number"==typeof m?[m]:m||[8],o=typeof o<"u"?o:-1,g=g||2,c=c||14;for(var n=[],a=0;a<u.length;a++){var s=u[a-1>=0?a-1:u.length-1],h=u[a],x=u[(a+1)%u.length],V=m[a<m.length?a:m.length-1];if(0!==V){var D=d.normalise({x:h.y-s.y,y:s.x-h.x}),F=d.normalise({x:x.y-h.y,y:h.x-x.x}),p=Math.sqrt(2*Math.pow(V,2)),C=d.mult(t.clone(D),V),S=d.normalise(d.mult(d.add(D,F),.5)),y=d.sub(h,d.mult(S,p)),A=o;-1===o&&(A=1.75*Math.pow(V,.32)),(A=t.clamp(A,g,c))%2==1&&(A+=1);for(var w=Math.acos(d.dot(D,F))/A,E=0;E<A;E++)n.push(d.add(d.rotate(C,w*E),y))}else n.push(h)}return n},e.clockwiseSort=function(u){var m=e.mean(u);return u.sort(function(o,g){return d.angle(m,o)-d.angle(m,g)}),u},e.isConvex=function(u){var g,c,n,a,m=0,o=u.length;if(o<3)return null;for(g=0;g<o;g++)if(a=(u[c=(g+1)%o].x-u[g].x)*(u[n=(g+2)%o].y-u[c].y),(a-=(u[c].y-u[g].y)*(u[n].x-u[c].x))<0?m|=1:a>0&&(m|=2),3===m)return!1;return 0!==m||null},e.hull=function(u){var g,c,m=[],o=[];for((u=u.slice(0)).sort(function(n,a){var s=n.x-a.x;return 0!==s?s:n.y-a.y}),c=0;c<u.length;c+=1){for(g=u[c];o.length>=2&&d.cross3(o[o.length-2],o[o.length-1],g)<=0;)o.pop();o.push(g)}for(c=u.length-1;c>=0;c-=1){for(g=u[c];m.length>=2&&d.cross3(m[m.length-2],m[m.length-1],g)<=0;)m.pop();m.push(g)}return m.pop(),o.pop(),m.concat(o)}},function(T,U,v){var e={};T.exports=e;var d=v(3),t=v(2),u=v(7),m=v(0),o=v(1),g=v(11);!function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(n){var a={id:m.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:d.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},s=m.extend(a,n);return c(s,n),s},e.nextGroup=function(n){return n?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var c=function(n,a){a=a||{},e.set(n,{bounds:n.bounds||o.create(n.vertices),positionPrev:n.positionPrev||t.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n}),d.rotate(n.vertices,n.angle,n.position),g.rotate(n.axes,n.angle),o.update(n.bounds,n.vertices,n.velocity),e.set(n,{axes:a.axes||n.axes,area:a.area||n.area,mass:a.mass||n.mass,inertia:a.inertia||n.inertia});var s=n.isStatic?"#14151f":m.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),h=n.isStatic?"#555":"#ccc",x=n.isStatic&&null===n.render.fillStyle?1:0;n.render.fillStyle=n.render.fillStyle||s,n.render.strokeStyle=n.render.strokeStyle||h,n.render.lineWidth=n.render.lineWidth||x,n.render.sprite.xOffset+=-(n.bounds.min.x-n.position.x)/(n.bounds.max.x-n.bounds.min.x),n.render.sprite.yOffset+=-(n.bounds.min.y-n.position.y)/(n.bounds.max.y-n.bounds.min.y)};e.set=function(n,a,s){var h;for(h in"string"==typeof a&&(h=a,(a={})[h]=s),a)if(Object.prototype.hasOwnProperty.call(a,h))switch(s=a[h],h){case"isStatic":e.setStatic(n,s);break;case"isSleeping":u.set(n,s);break;case"mass":e.setMass(n,s);break;case"density":e.setDensity(n,s);break;case"inertia":e.setInertia(n,s);break;case"vertices":e.setVertices(n,s);break;case"position":e.setPosition(n,s);break;case"angle":e.setAngle(n,s);break;case"velocity":e.setVelocity(n,s);break;case"angularVelocity":e.setAngularVelocity(n,s);break;case"speed":e.setSpeed(n,s);break;case"angularSpeed":e.setAngularSpeed(n,s);break;case"parts":e.setParts(n,s);break;case"centre":e.setCentre(n,s);break;default:n[h]=s}},e.setStatic=function(n,a){for(var s=0;s<n.parts.length;s++){var h=n.parts[s];a?(h.isStatic||(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia}),h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null),h.isStatic=a}},e.setMass=function(n,a){n.inertia=n.inertia/(n.mass/6)*(a/6),n.inverseInertia=1/n.inertia,n.mass=a,n.inverseMass=1/n.mass,n.density=n.mass/n.area},e.setDensity=function(n,a){e.setMass(n,a*n.area),n.density=a},e.setInertia=function(n,a){n.inertia=a,n.inverseInertia=1/n.inertia},e.setVertices=function(n,a){n.vertices=a[0].body===n?a:d.create(a,n),n.axes=g.fromVertices(n.vertices),n.area=d.area(n.vertices),e.setMass(n,n.density*n.area);var s=d.centre(n.vertices);d.translate(n.vertices,s,-1),e.setInertia(n,e._inertiaScale*d.inertia(n.vertices,n.mass)),d.translate(n.vertices,n.position),o.update(n.bounds,n.vertices,n.velocity)},e.setParts=function(n,a,s){var h;for(a=a.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,h=0;h<a.length;h++){var x=a[h];x!==n&&(x.parent=n,n.parts.push(x))}if(1!==n.parts.length){if(s=!(typeof s<"u")||s){var V=[];for(h=0;h<a.length;h++)V=V.concat(a[h].vertices);d.clockwiseSort(V);var D=d.hull(V),F=d.centre(D);e.setVertices(n,D),d.translate(n.vertices,F)}var p=e._totalProperties(n);n.area=p.area,n.parent=n,n.position.x=p.centre.x,n.position.y=p.centre.y,n.positionPrev.x=p.centre.x,n.positionPrev.y=p.centre.y,e.setMass(n,p.mass),e.setInertia(n,p.inertia),e.setPosition(n,p.centre)}},e.setCentre=function(n,a,s){s?(n.positionPrev.x+=a.x,n.positionPrev.y+=a.y,n.position.x+=a.x,n.position.y+=a.y):(n.positionPrev.x=a.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=a.y-(n.position.y-n.positionPrev.y),n.position.x=a.x,n.position.y=a.y)},e.setPosition=function(n,a,s){var h=t.sub(a,n.position);s?(n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.velocity.x=h.x,n.velocity.y=h.y,n.speed=t.magnitude(h)):(n.positionPrev.x+=h.x,n.positionPrev.y+=h.y);for(var x=0;x<n.parts.length;x++){var V=n.parts[x];V.position.x+=h.x,V.position.y+=h.y,d.translate(V.vertices,h),o.update(V.bounds,V.vertices,n.velocity)}},e.setAngle=function(n,a,s){var h=a-n.angle;s?(n.anglePrev=n.angle,n.angularVelocity=h,n.angularSpeed=Math.abs(h)):n.anglePrev+=h;for(var x=0;x<n.parts.length;x++){var V=n.parts[x];V.angle+=h,d.rotate(V.vertices,h,n.position),g.rotate(V.axes,h),o.update(V.bounds,V.vertices,n.velocity),x>0&&t.rotateAbout(V.position,h,n.position,V.position)}},e.setVelocity=function(n,a){var s=n.deltaTime/e._baseDelta;n.positionPrev.x=n.position.x-a.x*s,n.positionPrev.y=n.position.y-a.y*s,n.velocity.x=(n.position.x-n.positionPrev.x)/s,n.velocity.y=(n.position.y-n.positionPrev.y)/s,n.speed=t.magnitude(n.velocity)},e.getVelocity=function(n){var a=e._baseDelta/n.deltaTime;return{x:(n.position.x-n.positionPrev.x)*a,y:(n.position.y-n.positionPrev.y)*a}},e.getSpeed=function(n){return t.magnitude(e.getVelocity(n))},e.setSpeed=function(n,a){e.setVelocity(n,t.mult(t.normalise(e.getVelocity(n)),a))},e.setAngularVelocity=function(n,a){var s=n.deltaTime/e._baseDelta;n.anglePrev=n.angle-a*s,n.angularVelocity=(n.angle-n.anglePrev)/s,n.angularSpeed=Math.abs(n.angularVelocity)},e.getAngularVelocity=function(n){return(n.angle-n.anglePrev)*e._baseDelta/n.deltaTime},e.getAngularSpeed=function(n){return Math.abs(e.getAngularVelocity(n))},e.setAngularSpeed=function(n,a){e.setAngularVelocity(n,m.sign(e.getAngularVelocity(n))*a)},e.translate=function(n,a,s){e.setPosition(n,t.add(n.position,a),s)},e.rotate=function(n,a,s,h){if(s){var x=Math.cos(a),V=Math.sin(a),D=n.position.x-s.x,F=n.position.y-s.y;e.setPosition(n,{x:s.x+(D*x-F*V),y:s.y+(D*V+F*x)},h),e.setAngle(n,n.angle+a,h)}else e.setAngle(n,n.angle+a,h)},e.scale=function(n,a,s,h){var x=0,V=0;h=h||n.position;for(var D=0;D<n.parts.length;D++){var F=n.parts[D];d.scale(F.vertices,a,s,h),F.axes=g.fromVertices(F.vertices),F.area=d.area(F.vertices),e.setMass(F,n.density*F.area),d.translate(F.vertices,{x:-F.position.x,y:-F.position.y}),e.setInertia(F,e._inertiaScale*d.inertia(F.vertices,F.mass)),d.translate(F.vertices,{x:F.position.x,y:F.position.y}),D>0&&(x+=F.area,V+=F.inertia),F.position.x=h.x+(F.position.x-h.x)*a,F.position.y=h.y+(F.position.y-h.y)*s,o.update(F.bounds,F.vertices,n.velocity)}n.parts.length>1&&(n.area=x,n.isStatic||(e.setMass(n,n.density*x),e.setInertia(n,V))),n.circleRadius&&(a===s?n.circleRadius*=a:n.circleRadius=null)},e.update=function(n,a){var s=(a=(typeof a<"u"?a:1e3/60)*n.timeScale)*a,h=e._timeCorrection?a/(n.deltaTime||a):1,x=1-n.frictionAir*(a/m._baseDelta),D=(n.position.y-n.positionPrev.y)*h;n.velocity.x=(n.position.x-n.positionPrev.x)*h*x+n.force.x/n.mass*s,n.velocity.y=D*x+n.force.y/n.mass*s,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.deltaTime=a,n.angularVelocity=(n.angle-n.anglePrev)*x*h+n.torque/n.inertia*s,n.anglePrev=n.angle,n.angle+=n.angularVelocity;for(var F=0;F<n.parts.length;F++){var p=n.parts[F];d.translate(p.vertices,n.velocity),F>0&&(p.position.x+=n.velocity.x,p.position.y+=n.velocity.y),0!==n.angularVelocity&&(d.rotate(p.vertices,n.angularVelocity,n.position),g.rotate(p.axes,n.angularVelocity),F>0&&t.rotateAbout(p.position,n.angularVelocity,n.position,p.position)),o.update(p.bounds,p.vertices,n.velocity)}},e.updateVelocities=function(n){var a=e._baseDelta/n.deltaTime,s=n.velocity;s.x=(n.position.x-n.positionPrev.x)*a,s.y=(n.position.y-n.positionPrev.y)*a,n.speed=Math.sqrt(s.x*s.x+s.y*s.y),n.angularVelocity=(n.angle-n.anglePrev)*a,n.angularSpeed=Math.abs(n.angularVelocity)},e.applyForce=function(n,a,s){var h_x=a.x-n.position.x,h_y=a.y-n.position.y;n.force.x+=s.x,n.force.y+=s.y,n.torque+=h_x*s.y-h_y*s.x},e._totalProperties=function(n){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=1===n.parts.length?0:1;s<n.parts.length;s++){var h=n.parts[s],x=h.mass!==1/0?h.mass:1;a.mass+=x,a.area+=h.area,a.inertia+=h.inertia,a.centre=t.add(a.centre,t.mult(h.position,x))}return a.centre=t.div(a.centre,a.mass),a}}()},function(T,U,v){var e={};T.exports=e;var d=v(0);e.on=function(t,u,m){for(var g,o=u.split(" "),c=0;c<o.length;c++)g=o[c],t.events=t.events||{},t.events[g]=t.events[g]||[],t.events[g].push(m);return m},e.off=function(t,u,m){if(u){"function"==typeof u&&(m=u,u=d.keys(t.events).join(" "));for(var o=u.split(" "),g=0;g<o.length;g++){var c=t.events[o[g]],n=[];if(m&&c)for(var a=0;a<c.length;a++)c[a]!==m&&n.push(c[a]);t.events[o[g]]=n}}else t.events={}},e.trigger=function(t,u,m){var o,g,c,n,a=t.events;if(a&&d.keys(a).length>0){m||(m={}),o=u.split(" ");for(var s=0;s<o.length;s++)if(c=a[g=o[s]]){(n=d.clone(m,!1)).name=g,n.source=t;for(var h=0;h<c.length;h++)c[h].apply(t,[n])}}}},function(T,U,v){var e={};T.exports=e;var d=v(5),t=v(0),u=v(1),m=v(4);e.create=function(o){return t.extend({id:t.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},e.setModified=function(o,g,c,n){if(o.isModified=g,g&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),c&&o.parent&&e.setModified(o.parent,g,c,n),n)for(var a=0;a<o.composites.length;a++)e.setModified(o.composites[a],g,c,n)},e.add=function(o,g){var c=[].concat(g);d.trigger(o,"beforeAdd",{object:g});for(var n=0;n<c.length;n++){var a=c[n];switch(a.type){case"body":if(a.parent!==a){t.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(o,a);break;case"constraint":e.addConstraint(o,a);break;case"composite":e.addComposite(o,a);break;case"mouseConstraint":e.addConstraint(o,a.constraint)}}return d.trigger(o,"afterAdd",{object:g}),o},e.remove=function(o,g,c){var n=[].concat(g);d.trigger(o,"beforeRemove",{object:g});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":e.removeBody(o,s,c);break;case"constraint":e.removeConstraint(o,s,c);break;case"composite":e.removeComposite(o,s,c);break;case"mouseConstraint":e.removeConstraint(o,s.constraint)}}return d.trigger(o,"afterRemove",{object:g}),o},e.addComposite=function(o,g){return o.composites.push(g),g.parent=o,e.setModified(o,!0,!0,!1),o},e.removeComposite=function(o,g,c){var n=t.indexOf(o.composites,g);if(-1!==n){var a=e.allBodies(g);e.removeCompositeAt(o,n);for(var s=0;s<a.length;s++)a[s].sleepCounter=0}if(c)for(s=0;s<o.composites.length;s++)e.removeComposite(o.composites[s],g,!0);return o},e.removeCompositeAt=function(o,g){return o.composites.splice(g,1),e.setModified(o,!0,!0,!1),o},e.addBody=function(o,g){return o.bodies.push(g),e.setModified(o,!0,!0,!1),o},e.removeBody=function(o,g,c){var n=t.indexOf(o.bodies,g);if(-1!==n&&(e.removeBodyAt(o,n),g.sleepCounter=0),c)for(var a=0;a<o.composites.length;a++)e.removeBody(o.composites[a],g,!0);return o},e.removeBodyAt=function(o,g){return o.bodies.splice(g,1),e.setModified(o,!0,!0,!1),o},e.addConstraint=function(o,g){return o.constraints.push(g),e.setModified(o,!0,!0,!1),o},e.removeConstraint=function(o,g,c){var n=t.indexOf(o.constraints,g);if(-1!==n&&e.removeConstraintAt(o,n),c)for(var a=0;a<o.composites.length;a++)e.removeConstraint(o.composites[a],g,!0);return o},e.removeConstraintAt=function(o,g){return o.constraints.splice(g,1),e.setModified(o,!0,!0,!1),o},e.clear=function(o,g,c){if(c)for(var n=0;n<o.composites.length;n++)e.clear(o.composites[n],g,!0);return g?o.bodies=o.bodies.filter(function(a){return a.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,e.setModified(o,!0,!0,!1),o},e.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var g=[].concat(o.bodies),c=0;c<o.composites.length;c++)g=g.concat(e.allBodies(o.composites[c]));return o.cache&&(o.cache.allBodies=g),g},e.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var g=[].concat(o.constraints),c=0;c<o.composites.length;c++)g=g.concat(e.allConstraints(o.composites[c]));return o.cache&&(o.cache.allConstraints=g),g},e.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var g=[].concat(o.composites),c=0;c<o.composites.length;c++)g=g.concat(e.allComposites(o.composites[c]));return o.cache&&(o.cache.allComposites=g),g},e.get=function(o,g,c){var n,a;switch(c){case"body":n=e.allBodies(o);break;case"constraint":n=e.allConstraints(o);break;case"composite":n=e.allComposites(o).concat(o)}return n?0===(a=n.filter(function(s){return s.id.toString()===g.toString()})).length?null:a[0]:null},e.move=function(o,g,c){return e.remove(o,g),e.add(c,g),o},e.rebase=function(o){for(var g=e.allBodies(o).concat(e.allConstraints(o)).concat(e.allComposites(o)),c=0;c<g.length;c++)g[c].id=t.nextId();return o},e.translate=function(o,g,c){for(var n=c?e.allBodies(o):o.bodies,a=0;a<n.length;a++)m.translate(n[a],g);return o},e.rotate=function(o,g,c,n){for(var a=Math.cos(g),s=Math.sin(g),h=n?e.allBodies(o):o.bodies,x=0;x<h.length;x++){var V=h[x],D=V.position.x-c.x,F=V.position.y-c.y;m.setPosition(V,{x:c.x+(D*a-F*s),y:c.y+(D*s+F*a)}),m.rotate(V,g)}return o},e.scale=function(o,g,c,n,a){for(var s=a?e.allBodies(o):o.bodies,h=0;h<s.length;h++){var x=s[h];m.setPosition(x,{x:n.x+(x.position.x-n.x)*g,y:n.y+(x.position.y-n.y)*c}),m.scale(x,g,c)}return o},e.bounds=function(o){for(var g=e.allBodies(o),c=[],n=0;n<g.length;n+=1){var a=g[n];c.push(a.bounds.min,a.bounds.max)}return u.create(c)}},function(T,U,v){var e={};T.exports=e;var d=v(4),t=v(5),u=v(0);e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(m,o){for(var g=o/u._baseDelta,c=e._motionSleepThreshold,n=0;n<m.length;n++){var a=m[n],s=d.getSpeed(a),h=d.getAngularSpeed(a),x=s*s+h*h;if(0===a.force.x&&0===a.force.y){var V=Math.min(a.motion,x),D=Math.max(a.motion,x);a.motion=e._minBias*V+(1-e._minBias)*D,a.sleepThreshold>0&&a.motion<c?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/g&&e.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}else e.set(a,!1)}},e.afterCollisions=function(m){for(var o=e._motionSleepThreshold,g=0;g<m.length;g++){var c=m[g];if(c.isActive){var n=c.collision,a=n.bodyA.parent,s=n.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var h=a.isSleeping&&!a.isStatic?a:s;!h.isStatic&&(h===a?s:a).motion>o&&e.set(h,!1)}}}},e.set=function(m,o){var g=m.isSleeping;o?(m.isSleeping=!0,m.sleepCounter=m.sleepThreshold,m.positionImpulse.x=0,m.positionImpulse.y=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.speed=0,m.angularSpeed=0,m.motion=0,g||t.trigger(m,"sleepStart")):(m.isSleeping=!1,m.sleepCounter=0,g&&t.trigger(m,"sleepEnd"))}},function(T,U,v){var e={};T.exports=e;var u,m,o,d=v(3),t=v(9);u=[],m={overlap:0,axis:null},o={overlap:0,axis:null},e.create=function(g,c){return{pair:null,collided:!1,bodyA:g,bodyB:c,parentA:g.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(g,c,n){if(e._overlapAxes(m,g.vertices,c.vertices,g.axes),m.overlap<=0||(e._overlapAxes(o,c.vertices,g.vertices,c.axes),o.overlap<=0))return null;var s,h,a=n&&n.table[t.id(g,c)];a?s=a.collision:((s=e.create(g,c)).collided=!0,s.bodyA=g.id<c.id?g:c,s.bodyB=g.id<c.id?c:g,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent);var x=s.normal,V=s.tangent,D=s.penetration,F=s.supports,p=(h=m.overlap<o.overlap?m:o).overlap,C=h.axis,S=C.x,y=C.y;S*((c=s.bodyB).position.x-(g=s.bodyA).position.x)+y*(c.position.y-g.position.y)>=0&&(S=-S,y=-y),x.x=S,x.y=y,V.x=-y,V.y=S,D.x=S*p,D.y=y*p,s.depth=p;var w=e._findSupports(g,c,x,1),E=0;if(d.contains(g.vertices,w[0])&&(F[E++]=w[0]),d.contains(g.vertices,w[1])&&(F[E++]=w[1]),E<2){var b=e._findSupports(c,g,x,-1);d.contains(c.vertices,b[0])&&(F[E++]=b[0]),E<2&&d.contains(c.vertices,b[1])&&(F[E++]=b[1])}return 0===E&&(F[E++]=w[0]),s.supportCount=E,s},e._overlapAxes=function(g,c,n,a){var y,A,P,w,E,b,s=c.length,h=n.length,x=c[0].x,V=c[0].y,D=n[0].x,F=n[0].y,p=a.length,C=Number.MAX_VALUE,S=0;for(E=0;E<p;E++){var O=a[E],_=O.x,k=O.y,I=x*_+V*k,R=D*_+F*k,G=I,W=R;for(b=1;b<s;b+=1)(w=c[b].x*_+c[b].y*k)>G?G=w:w<I&&(I=w);for(b=1;b<h;b+=1)(w=n[b].x*_+n[b].y*k)>W?W=w:w<R&&(R=w);if((y=(A=G-R)<(P=W-I)?A:P)<C&&(C=y,S=E,y<=0))break}g.axis=a[S],g.overlap=C},e._findSupports=function(g,c,n,a){var y,A,P,s=c.vertices,h=s.length,x=g.position.x,V=g.position.y,D=n.x*a,F=n.y*a,p=s[0],C=p,S=D*(x-C.x)+F*(V-C.y);for(P=1;P<h;P+=1)(A=D*(x-(C=s[P]).x)+F*(V-C.y))<S&&(S=A,p=C);return D*(x-(C=s[(p.index+1)%h]).x)+F*(V-C.y)<(S=D*(x-(y=s[(h+p.index-1)%h]).x)+F*(V-y.y))?(u[0]=p,u[1]=C,u):(u[0]=p,u[1]=y,u)}},function(T,U,v){var e={};T.exports=e;var d=v(16);e.create=function(t,u){var m=t.bodyA,o=t.bodyB,g={id:e.id(m,o),bodyA:m,bodyB:o,collision:t,contacts:[d.create(),d.create()],contactCount:0,separation:0,isActive:!0,isSensor:m.isSensor||o.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(g,t,u),g},e.update=function(t,u,m){var o=u.supports,g=u.supportCount,c=t.contacts,n=u.parentA,a=u.parentB;t.isActive=!0,t.timeUpdated=m,t.collision=u,t.separation=u.depth,t.inverseMass=n.inverseMass+a.inverseMass,t.friction=n.friction<a.friction?n.friction:a.friction,t.frictionStatic=n.frictionStatic>a.frictionStatic?n.frictionStatic:a.frictionStatic,t.restitution=n.restitution>a.restitution?n.restitution:a.restitution,t.slop=n.slop>a.slop?n.slop:a.slop,t.contactCount=g,u.pair=t;var s=o[0],h=c[0],x=o[1],V=c[1];(V.vertex===s||h.vertex===x)&&(c[1]=h,c[0]=h=V,V=c[1]),h.vertex=s,V.vertex=x},e.setActive=function(t,u,m){u?(t.isActive=!0,t.timeUpdated=m):(t.isActive=!1,t.contactCount=0)},e.id=function(t,u){return t.id<u.id?t.id.toString(36)+":"+u.id.toString(36):u.id.toString(36)+":"+t.id.toString(36)}},function(T,U,v){var e={};T.exports=e;var d=v(3),t=v(2),u=v(7),m=v(1),o=v(11),g=v(0);e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(c){var n=c;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var a=n.bodyA?t.add(n.bodyA.position,n.pointA):n.pointA,s=n.bodyB?t.add(n.bodyB.position,n.pointB):n.pointB,h=t.magnitude(t.sub(a,s));n.length=typeof n.length<"u"?n.length:h,n.id=n.id||g.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===n.length&&n.stiffness>.1?(x.type="pin",x.anchors=!1):n.stiffness<.9&&(x.type="spring"),n.render=g.extend(x,n.render),n},e.preSolveAll=function(c){for(var n=0;n<c.length;n+=1){var a=c[n],s=a.constraintImpulse;a.isStatic||0===s.x&&0===s.y&&0===s.angle||(a.position.x+=s.x,a.position.y+=s.y,a.angle+=s.angle)}},e.solveAll=function(c,n){for(var a=g.clamp(n/g._baseDelta,0,1),s=0;s<c.length;s+=1){var h=c[s],x=!h.bodyA||h.bodyA&&h.bodyA.isStatic,V=!h.bodyB||h.bodyB&&h.bodyB.isStatic;(x||V)&&e.solve(c[s],a)}for(s=0;s<c.length;s+=1)V=!(h=c[s]).bodyB||h.bodyB&&h.bodyB.isStatic,!(x=!h.bodyA||h.bodyA&&h.bodyA.isStatic)&&!V&&e.solve(c[s],a)},e.solve=function(c,n){var a=c.bodyA,s=c.bodyB,h=c.pointA,x=c.pointB;if(a||s){a&&!a.isStatic&&(t.rotate(h,a.angle-c.angleA,h),c.angleA=a.angle),s&&!s.isStatic&&(t.rotate(x,s.angle-c.angleB,x),c.angleB=s.angle);var V=h,D=x;if(a&&(V=t.add(a.position,h)),s&&(D=t.add(s.position,x)),V&&D){var F=t.sub(V,D),p=t.magnitude(F);p<e._minLength&&(p=e._minLength);var O,_,k,I,R,A=c.damping*n,P=t.mult(F,(p-c.length)/p*(c.stiffness>=1||0===c.length?c.stiffness*n:c.stiffness*n*n)),w=(a?a.inverseMass:0)+(s?s.inverseMass:0),b=w+((a?a.inverseInertia:0)+(s?s.inverseInertia:0));if(A>0){var G=t.create();k=t.div(F,p),R=t.sub(s&&t.sub(s.position,s.positionPrev)||G,a&&t.sub(a.position,a.positionPrev)||G),I=t.dot(k,R)}a&&!a.isStatic&&(a.constraintImpulse.x-=P.x*(_=a.inverseMass/w),a.constraintImpulse.y-=P.y*_,a.position.x-=P.x*_,a.position.y-=P.y*_,A>0&&(a.positionPrev.x-=A*k.x*I*_,a.positionPrev.y-=A*k.y*I*_),O=t.cross(h,P)/b*e._torqueDampen*a.inverseInertia*(1-c.angularStiffness),a.constraintImpulse.angle-=O,a.angle-=O),s&&!s.isStatic&&(s.constraintImpulse.x+=P.x*(_=s.inverseMass/w),s.constraintImpulse.y+=P.y*_,s.position.x+=P.x*_,s.position.y+=P.y*_,A>0&&(s.positionPrev.x+=A*k.x*I*_,s.positionPrev.y+=A*k.y*I*_),O=t.cross(x,P)/b*e._torqueDampen*s.inverseInertia*(1-c.angularStiffness),s.constraintImpulse.angle+=O,s.angle+=O)}}},e.postSolveAll=function(c){for(var n=0;n<c.length;n++){var a=c[n],s=a.constraintImpulse;if(!(a.isStatic||0===s.x&&0===s.y&&0===s.angle)){u.set(a,!1);for(var h=0;h<a.parts.length;h++){var x=a.parts[h];d.translate(x.vertices,s),h>0&&(x.position.x+=s.x,x.position.y+=s.y),0!==s.angle&&(d.rotate(x.vertices,s.angle,a.position),o.rotate(x.axes,s.angle),h>0&&t.rotateAbout(x.position,s.angle,a.position,x.position)),m.update(x.bounds,x.vertices,a.velocity)}s.angle*=e._warming,s.x*=e._warming,s.y*=e._warming}}},e.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},e.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},e.currentLength=function(c){var x=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0)-((c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0)),V=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)-((c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0));return Math.sqrt(x*x+V*V)}},function(T,U,v){var e={};T.exports=e;var d=v(2),t=v(0);e.fromVertices=function(u){for(var m={},o=0;o<u.length;o++){var g=(o+1)%u.length,c=d.normalise({x:u[g].y-u[o].y,y:u[o].x-u[g].x}),n=0===c.y?1/0:c.x/c.y;m[n=n.toFixed(3).toString()]=c}return t.values(m)},e.rotate=function(u,m){if(0!==m)for(var o=Math.cos(m),g=Math.sin(m),c=0;c<u.length;c++){var a,n=u[c];a=n.x*o-n.y*g,n.y=n.x*g+n.y*o,n.x=a}}},function(T,U,v){var e={};T.exports=e;var d=v(3),t=v(0),u=v(4),m=v(1),o=v(2);e.rectangle=function(g,c,n,a,s){s=s||{};var h={label:"Rectangle Body",position:{x:g,y:c},vertices:d.fromPath("L 0 0 L "+n+" 0 L "+n+" "+a+" L 0 "+a)};if(s.chamfer){var x=s.chamfer;h.vertices=d.chamfer(h.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete s.chamfer}return u.create(t.extend({},h,s))},e.trapezoid=function(g,c,n,a,s,h){h=h||{},s>=1&&t.warn("Bodies.trapezoid: slope parameter must be < 1.");var V=n*(s*=.5),D=V+(1-2*s)*n,F=D+V,C={label:"Trapezoid Body",position:{x:g,y:c},vertices:d.fromPath(s<.5?"L 0 0 L "+V+" "+-a+" L "+D+" "+-a+" L "+F+" 0":"L 0 0 L "+D+" "+-a+" L "+F+" 0")};if(h.chamfer){var S=h.chamfer;C.vertices=d.chamfer(C.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete h.chamfer}return u.create(t.extend({},C,h))},e.circle=function(g,c,n,a,s){a=a||{};var h={label:"Circle Body",circleRadius:n};s=s||25;var x=Math.ceil(Math.max(10,Math.min(s,n)));return x%2==1&&(x+=1),e.polygon(g,c,x,n,t.extend({},h,a))},e.polygon=function(g,c,n,a,s){if(s=s||{},n<3)return e.circle(g,c,a,s);for(var h=2*Math.PI/n,x="",V=.5*h,D=0;D<n;D+=1){var F=V+D*h,p=Math.cos(F)*a,C=Math.sin(F)*a;x+="L "+p.toFixed(3)+" "+C.toFixed(3)+" "}var S={label:"Polygon Body",position:{x:g,y:c},vertices:d.fromPath(x)};if(s.chamfer){var y=s.chamfer;S.vertices=d.chamfer(S.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete s.chamfer}return u.create(t.extend({},S,s))},e.fromVertices=function(g,c,n,a,s,h,x,V){var F,p,C,S,A,P,w,E,b,O,D=t.getDecomp();for(F=!(!D||!D.quickDecomp),a=a||{},C=[],s=typeof s<"u"&&s,h=typeof h<"u"?h:.01,x=typeof x<"u"?x:10,V=typeof V<"u"?V:.01,t.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(!(S=d.isConvex(A=n[b]))&&!F&&t.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),S||!F)A=S?d.clockwiseSort(A):d.hull(A),C.push({position:{x:g,y:c},vertices:A});else{var _=A.map(function(L){return[L.x,L.y]});D.makeCCW(_),!1!==h&&D.removeCollinearPoints(_,h),!1!==V&&D.removeDuplicatePoints&&D.removeDuplicatePoints(_,V);var k=D.quickDecomp(_);for(P=0;P<k.length;P++){var R=k[P].map(function(L){return{x:L[0],y:L[1]}});x>0&&d.area(R)<x||C.push({position:d.centre(R),vertices:R})}}for(P=0;P<C.length;P++)C[P]=u.create(t.extend(C[P],a));if(s){for(P=0;P<C.length;P++){var W=C[P];for(w=P+1;w<C.length;w++){var j=C[w];if(m.overlaps(W.bounds,j.bounds)){var X=W.vertices,J=j.vertices;for(E=0;E<W.vertices.length;E++)for(O=0;O<j.vertices.length;O++){var st=o.magnitudeSquared(o.sub(X[(E+1)%X.length],J[O])),q=o.magnitudeSquared(o.sub(X[E],J[(O+1)%J.length]));st<5&&q<5&&(X[E].isInternal=!0,J[O].isInternal=!0)}}}}}return C.length>1?(p=u.create(t.extend({parts:C.slice(0)},a)),u.setPosition(p,{x:g,y:c}),p):C[0]}},function(T,U,v){var e={};T.exports=e;var d=v(0),t=v(8);e.create=function(u){return d.extend({bodies:[],collisions:[],pairs:null},u)},e.setBodies=function(u,m){u.bodies=m.slice(0)},e.clear=function(u){u.bodies=[],u.collisions=[]},e.collisions=function(u){var h,x,m=u.pairs,o=u.bodies,g=o.length,c=e.canCollide,n=t.collides,a=u.collisions,s=0;for(o.sort(e._compareBoundsX),h=0;h<g;h++){var V=o[h],D=V.bounds,F=V.bounds.max.x,p=V.bounds.max.y,C=V.bounds.min.y,S=V.isStatic||V.isSleeping,y=V.parts.length,A=1===y;for(x=h+1;x<g;x++){var P=o[x];if((w=P.bounds).min.x>F)break;if(!(p<w.min.y||C>w.max.y)&&(!S||!P.isStatic&&!P.isSleeping)&&c(V.collisionFilter,P.collisionFilter)){var E=P.parts.length;if(A&&1===E)(b=n(V,P,m))&&(a[s++]=b);else for(var _=E>1?1:0,k=y>1?1:0;k<y;k++)for(var I=V.parts[k],R=(D=I.bounds,_);R<E;R++){var w,b,G=P.parts[R];D.min.x>(w=G.bounds).max.x||D.max.x<w.min.x||D.max.y<w.min.y||D.min.y>w.max.y||(b=n(I,G,m))&&(a[s++]=b)}}}}return a.length!==s&&(a.length=s),a},e.canCollide=function(u,m){return u.group===m.group&&0!==u.group?u.group>0:0!=(u.mask&m.category)&&0!=(m.mask&u.category)},e._compareBoundsX=function(u,m){return u.bounds.min.x-m.bounds.min.x}},function(T,U,v){var e={};T.exports=e;var d=v(0);e.create=function(t){var u={};return t||d.log("Mouse.create: element was undefined, defaulting to document.body","warn"),u.element=t||document.body,u.absolute={x:0,y:0},u.position={x:0,y:0},u.mousedownPosition={x:0,y:0},u.mouseupPosition={x:0,y:0},u.offset={x:0,y:0},u.scale={x:1,y:1},u.wheelDelta=0,u.button=-1,u.pixelRatio=parseInt(u.element.getAttribute("data-pixel-ratio"),10)||1,u.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},u.mousemove=function(m){var o=e._getRelativeMousePosition(m,u.element,u.pixelRatio);m.changedTouches&&(u.button=0,m.preventDefault()),u.absolute.x=o.x,u.absolute.y=o.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.sourceEvents.mousemove=m},u.mousedown=function(m){var o=e._getRelativeMousePosition(m,u.element,u.pixelRatio);m.changedTouches?(u.button=0,m.preventDefault()):u.button=m.button,u.absolute.x=o.x,u.absolute.y=o.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.mousedownPosition.x=u.position.x,u.mousedownPosition.y=u.position.y,u.sourceEvents.mousedown=m},u.mouseup=function(m){var o=e._getRelativeMousePosition(m,u.element,u.pixelRatio);m.changedTouches&&m.preventDefault(),u.button=-1,u.absolute.x=o.x,u.absolute.y=o.y,u.position.x=u.absolute.x*u.scale.x+u.offset.x,u.position.y=u.absolute.y*u.scale.y+u.offset.y,u.mouseupPosition.x=u.position.x,u.mouseupPosition.y=u.position.y,u.sourceEvents.mouseup=m},u.mousewheel=function(m){u.wheelDelta=Math.max(-1,Math.min(1,m.wheelDelta||-m.detail)),m.preventDefault(),u.sourceEvents.mousewheel=m},e.setElement(u,u.element),u},e.setElement=function(t,u){t.element=u,u.addEventListener("mousemove",t.mousemove,{passive:!0}),u.addEventListener("mousedown",t.mousedown,{passive:!0}),u.addEventListener("mouseup",t.mouseup,{passive:!0}),u.addEventListener("wheel",t.mousewheel,{passive:!1}),u.addEventListener("touchmove",t.mousemove,{passive:!1}),u.addEventListener("touchstart",t.mousedown,{passive:!1}),u.addEventListener("touchend",t.mouseup,{passive:!1})},e.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},e.setOffset=function(t,u){t.offset.x=u.x,t.offset.y=u.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},e.setScale=function(t,u){t.scale.x=u.x,t.scale.y=u.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},e._getRelativeMousePosition=function(t,u,m){var s,h,o=u.getBoundingClientRect(),g=document.documentElement||document.body.parentNode||document.body,c=void 0!==window.pageXOffset?window.pageXOffset:g.scrollLeft,n=void 0!==window.pageYOffset?window.pageYOffset:g.scrollTop,a=t.changedTouches;return a?(s=a[0].pageX-o.left-c,h=a[0].pageY-o.top-n):(s=t.pageX-o.left-c,h=t.pageY-o.top-n),{x:s/(u.clientWidth/(u.width||u.clientWidth)*m),y:h/(u.clientHeight/(u.height||u.clientHeight)*m)}}},function(T,U,v){var e={};T.exports=e;var d=v(0);e._registry={},e.register=function(t){if(e.isPlugin(t)||d.warn("Plugin.register:",e.toString(t),"does not implement all required fields."),t.name in e._registry){var u=e._registry[t.name],m=e.versionParse(t.version).number,o=e.versionParse(u.version).number;m>o?(d.warn("Plugin.register:",e.toString(u),"was upgraded to",e.toString(t)),e._registry[t.name]=t):m<o?d.warn("Plugin.register:",e.toString(u),"can not be downgraded to",e.toString(t)):t!==u&&d.warn("Plugin.register:",e.toString(t),"is already registered to different plugin object")}else e._registry[t.name]=t;return t},e.resolve=function(t){return e._registry[e.dependencyParse(t).name]},e.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},e.isPlugin=function(t){return t&&t.name&&t.version&&t.install},e.isUsed=function(t,u){return t.used.indexOf(u)>-1},e.isFor=function(t,u){var m=t.for&&e.dependencyParse(t.for);return!t.for||u.name===m.name&&e.versionSatisfies(u.version,m.range)},e.use=function(t,u){if(t.uses=(t.uses||[]).concat(u||[]),0!==t.uses.length){for(var m=e.dependencies(t),o=d.topologicalSort(m),g=[],c=0;c<o.length;c+=1)if(o[c]!==t.name){var n=e.resolve(o[c]);if(!n){g.push("\u274c "+o[c]);continue}e.isUsed(t,n.name)||(e.isFor(n,t)||(d.warn("Plugin.use:",e.toString(n),"is for",n.for,"but installed on",e.toString(t)+"."),n._warned=!0),n.install?n.install(t):(d.warn("Plugin.use:",e.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(g.push("\u{1f536} "+e.toString(n)),delete n._warned):g.push("\u2705 "+e.toString(n)),t.used.push(n.name))}g.length>0&&d.info(g.join("  "))}else d.warn("Plugin.use:",e.toString(t),"does not specify any dependencies to install.")},e.dependencies=function(t,u){var m=e.dependencyParse(t),o=m.name;if(!(o in(u=u||{}))){t=e.resolve(t)||t,u[o]=d.map(t.uses||[],function(c){e.isPlugin(c)&&e.register(c);var n=e.dependencyParse(c),a=e.resolve(c);return a&&!e.versionSatisfies(a.version,n.range)?(d.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(n),"used by",e.toString(m)+"."),a._warned=!0,t._warned=!0):a||(d.warn("Plugin.dependencies:",e.toString(c),"used by",e.toString(m),"could not be resolved."),t._warned=!0),n.name});for(var g=0;g<u[o].length;g+=1)e.dependencies(u[o][g],u);return u}},e.dependencyParse=function(t){return d.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||d.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},e.versionParse=function(t){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(t)||d.warn("Plugin.versionParse:",t,"is not a valid version or range.");var m=u.exec(t),o=Number(m[4]),g=Number(m[5]),c=Number(m[6]);return{isRange:!(!m[1]&&!m[2]),version:m[3],range:t,operator:m[1]||m[2]||"",major:o,minor:g,patch:c,parts:[o,g,c],prerelease:m[7],number:1e8*o+1e4*g+c}},e.versionSatisfies=function(t,u){var m=e.versionParse(u=u||"*"),o=e.versionParse(t);if(m.isRange){if("*"===m.operator||"*"===t)return!0;if(">"===m.operator)return o.number>m.number;if(">="===m.operator)return o.number>=m.number;if("~"===m.operator)return o.major===m.major&&o.minor===m.minor&&o.patch>=m.patch;if("^"===m.operator)return m.major>0?o.major===m.major&&o.number>=m.number:m.minor>0?o.minor===m.minor&&o.patch>=m.patch:o.patch===m.patch}return t===u||"*"===t}},function(T,U){var v={};T.exports=v,v.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}},function(T,U,v){var e={};T.exports=e;var d=v(7),t=v(18),u=v(13),m=v(19),o=v(5),g=v(6),c=v(10),n=v(0),a=v(4);e._deltaMax=1e3/60,e.create=function(s){var x=n.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},s=s||{});return x.world=s.world||g.create({label:"World"}),x.pairs=s.pairs||m.create(),x.detector=s.detector||u.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},e.update=function(s,h){var S,x=n.now(),V=s.world,D=s.detector,F=s.pairs,p=s.timing,C=p.timestamp;h>e._deltaMax&&n.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),h=typeof h<"u"?h:n._baseDelta,p.timestamp+=h*=p.timeScale,p.lastDelta=h;var y={timestamp:p.timestamp,delta:h};o.trigger(s,"beforeUpdate",y);var A=g.allBodies(V),P=g.allConstraints(V);for(V.isModified&&(u.setBodies(D,A),g.setModified(V,!1,!1,!0)),s.enableSleeping&&d.update(A,h),e._bodiesApplyGravity(A,s.gravity),h>0&&e._bodiesUpdate(A,h),o.trigger(s,"beforeSolve",y),c.preSolveAll(A),S=0;S<s.constraintIterations;S++)c.solveAll(P,h);c.postSolveAll(A);var w=u.collisions(D);m.update(F,w,C),s.enableSleeping&&d.afterCollisions(F.list),F.collisionStart.length>0&&o.trigger(s,"collisionStart",{pairs:F.collisionStart,timestamp:p.timestamp,delta:h});var E=n.clamp(20/s.positionIterations,0,1);for(t.preSolvePosition(F.list),S=0;S<s.positionIterations;S++)t.solvePosition(F.list,h,E);for(t.postSolvePosition(A),c.preSolveAll(A),S=0;S<s.constraintIterations;S++)c.solveAll(P,h);for(c.postSolveAll(A),t.preSolveVelocity(F.list),S=0;S<s.velocityIterations;S++)t.solveVelocity(F.list,h);return e._bodiesUpdateVelocities(A),F.collisionActive.length>0&&o.trigger(s,"collisionActive",{pairs:F.collisionActive,timestamp:p.timestamp,delta:h}),F.collisionEnd.length>0&&o.trigger(s,"collisionEnd",{pairs:F.collisionEnd,timestamp:p.timestamp,delta:h}),e._bodiesClearForces(A),o.trigger(s,"afterUpdate",y),s.timing.lastElapsed=n.now()-x,s},e.merge=function(s,h){if(n.extend(s,h),h.world){s.world=h.world,e.clear(s);for(var x=g.allBodies(s.world),V=0;V<x.length;V++){var D=x[V];d.set(D,!1),D.id=n.nextId()}}},e.clear=function(s){m.clear(s.pairs),u.clear(s.detector)},e._bodiesClearForces=function(s){for(var h=s.length,x=0;x<h;x++){var V=s[x];V.force.x=0,V.force.y=0,V.torque=0}},e._bodiesApplyGravity=function(s,h){var x=typeof h.scale<"u"?h.scale:.001,V=s.length;if((0!==h.x||0!==h.y)&&0!==x)for(var D=0;D<V;D++){var F=s[D];F.isStatic||F.isSleeping||(F.force.y+=F.mass*h.y*x,F.force.x+=F.mass*h.x*x)}},e._bodiesUpdate=function(s,h){for(var x=s.length,V=0;V<x;V++){var D=s[V];D.isStatic||D.isSleeping||a.update(D,h)}},e._bodiesUpdateVelocities=function(s){for(var h=s.length,x=0;x<h;x++)a.updateVelocities(s[x])}},function(T,U,v){var e={};T.exports=e;var d=v(3),t=v(0),u=v(1);e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(m){var o,g,c,n=m.length;for(o=0;o<n;o++)(g=m[o]).isActive&&(g.collision.parentA.totalContacts+=c=g.contactCount,g.collision.parentB.totalContacts+=c)},e.solvePosition=function(m,o,g){var c,n,a,s,h,x,V,D,F=e._positionDampen*(g||1),p=t.clamp(o/t._baseDelta,0,1),C=m.length;for(c=0;c<C;c++)(n=m[c]).isActive&&!n.isSensor&&(n.separation=(a=n.collision).depth+(x=a.normal).x*((h=a.parentB).positionImpulse.x-(s=a.parentA).positionImpulse.x)+x.y*(h.positionImpulse.y-s.positionImpulse.y));for(c=0;c<C;c++)(n=m[c]).isActive&&!n.isSensor&&(h=(a=n.collision).parentB,x=a.normal,D=n.separation-n.slop*p,((s=a.parentA).isStatic||h.isStatic)&&(D*=2),s.isStatic||s.isSleeping||(s.positionImpulse.x+=x.x*D*(V=F/s.totalContacts),s.positionImpulse.y+=x.y*D*V),h.isStatic||h.isSleeping||(h.positionImpulse.x-=x.x*D*(V=F/h.totalContacts),h.positionImpulse.y-=x.y*D*V))},e.postSolvePosition=function(m){for(var o=e._positionWarming,g=m.length,c=d.translate,n=u.update,a=0;a<g;a++){var s=m[a],h=s.positionImpulse,x=h.x,V=h.y,D=s.velocity;if(s.totalContacts=0,0!==x||0!==V){for(var F=0;F<s.parts.length;F++){var p=s.parts[F];c(p.vertices,h),n(p.bounds,p.vertices,D),p.position.x+=x,p.position.y+=V}s.positionPrev.x+=x,s.positionPrev.y+=V,x*D.x+V*D.y<0?(h.x=0,h.y=0):(h.x*=o,h.y*=o)}}},e.preSolveVelocity=function(m){var g,c,o=m.length;for(g=0;g<o;g++){var n=m[g];if(n.isActive&&!n.isSensor){var a=n.contacts,s=n.contactCount,h=n.collision,x=h.parentA,V=h.parentB,D=h.normal,F=h.tangent;for(c=0;c<s;c++){var p=a[c],C=p.vertex,S=p.normalImpulse,y=p.tangentImpulse;if(0!==S||0!==y){var A=D.x*S+F.x*y,P=D.y*S+F.y*y;x.isStatic||x.isSleeping||(x.positionPrev.x+=A*x.inverseMass,x.positionPrev.y+=P*x.inverseMass,x.anglePrev+=x.inverseInertia*((C.x-x.position.x)*P-(C.y-x.position.y)*A)),V.isStatic||V.isSleeping||(V.positionPrev.x-=A*V.inverseMass,V.positionPrev.y-=P*V.inverseMass,V.anglePrev-=V.inverseInertia*((C.x-V.position.x)*P-(C.y-V.position.y)*A))}}}}},e.solveVelocity=function(m,o){var D,F,p,C,g=o/t._baseDelta,n=g*g*g,a=-e._restingThresh*g,s=e._restingThreshTangent,h=e._frictionNormalMultiplier*g,x=e._frictionMaxStatic,V=m.length;for(p=0;p<V;p++){var S=m[p];if(S.isActive&&!S.isSensor){var y=S.collision,A=y.parentA,P=y.parentB,w=y.normal.x,E=y.normal.y,b=y.tangent.x,O=y.tangent.y,_=S.inverseMass,k=S.friction*S.frictionStatic*h,I=S.contacts,R=S.contactCount,G=1/R,W=A.position.x-A.positionPrev.x,j=A.position.y-A.positionPrev.y,X=A.angle-A.anglePrev,J=P.position.x-P.positionPrev.x,st=P.position.y-P.positionPrev.y,q=P.angle-P.anglePrev;for(C=0;C<R;C++){var L=I[C],tt=L.vertex,$=tt.x-A.position.x,at=tt.y-A.position.y,et=tt.x-P.position.x,nt=tt.y-P.position.y,xt=W-at*X-(J-nt*q),ht=j+$*X-(st+et*q),pt=w*xt+E*ht,it=b*xt+O*ht,Ct=S.separation+pt,gt=Math.min(Ct,1),Mt=(gt=Ct<0?0:gt)*k;it<-Mt||it>Mt?(D=S.friction*(it>0?1:-1)*n)<-(F=it>0?it:-it)?D=-F:D>F&&(D=F):(D=it,F=x);var mt=$*E-at*w,lt=et*E-nt*w,St=G/(_+A.inverseInertia*mt*mt+P.inverseInertia*lt*lt),ut=(1+S.restitution)*pt*St;if(D*=St,pt<a)L.normalImpulse=0;else{var bt=L.normalImpulse;L.normalImpulse+=ut,L.normalImpulse>0&&(L.normalImpulse=0),ut=L.normalImpulse-bt}if(it<-s||it>s)L.tangentImpulse=0;else{var K=L.tangentImpulse;L.tangentImpulse+=D,L.tangentImpulse<-F&&(L.tangentImpulse=-F),L.tangentImpulse>F&&(L.tangentImpulse=F),D=L.tangentImpulse-K}var rt=w*ut+b*D,ct=E*ut+O*D;A.isStatic||A.isSleeping||(A.positionPrev.x+=rt*A.inverseMass,A.positionPrev.y+=ct*A.inverseMass,A.anglePrev+=($*ct-at*rt)*A.inverseInertia),P.isStatic||P.isSleeping||(P.positionPrev.x-=rt*P.inverseMass,P.positionPrev.y-=ct*P.inverseMass,P.anglePrev-=(et*ct-nt*rt)*P.inverseInertia)}}}}},function(T,U,v){var e={};T.exports=e;var d=v(9),t=v(0);e.create=function(u){return t.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},e.update=function(u,m,o){var A,P,w,g=d.update,c=d.create,n=d.setActive,a=u.table,s=u.list,h=s.length,x=h,V=u.collisionStart,D=u.collisionEnd,F=u.collisionActive,p=m.length,C=0,S=0,y=0;for(w=0;w<p;w++)(P=(A=m[w]).pair)?(P.isActive&&(F[y++]=P),g(P,A,o)):(a[(P=c(A,o)).id]=P,V[C++]=P,s[x++]=P);for(x=0,h=s.length,w=0;w<h;w++)(P=s[w]).timeUpdated>=o?s[x++]=P:(n(P,!1,o),P.collision.bodyA.sleepCounter>0&&P.collision.bodyB.sleepCounter>0?s[x++]=P:(D[S++]=P,delete a[P.id]));s.length!==x&&(s.length=x),V.length!==C&&(V.length=C),D.length!==S&&(D.length=S),F.length!==y&&(F.length=y)},e.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}},function(T,U,v){var e=T.exports=v(21);e.Axes=v(11),e.Bodies=v(12),e.Body=v(4),e.Bounds=v(1),e.Collision=v(8),e.Common=v(0),e.Composite=v(6),e.Composites=v(22),e.Constraint=v(10),e.Contact=v(16),e.Detector=v(13),e.Engine=v(17),e.Events=v(5),e.Grid=v(23),e.Mouse=v(14),e.MouseConstraint=v(24),e.Pair=v(9),e.Pairs=v(19),e.Plugin=v(15),e.Query=v(25),e.Render=v(26),e.Resolver=v(18),e.Runner=v(27),e.SAT=v(28),e.Sleeping=v(7),e.Svg=v(29),e.Vector=v(2),e.Vertices=v(3),e.World=v(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run \u27a4 use Matter.Runner.run(engine) instead")},function(T,U,v){var e={};T.exports=e;var d=v(15),t=v(0);e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){d.use(e,Array.prototype.slice.call(arguments))},e.before=function(u,m){return u=u.replace(/^Matter./,""),t.chainPathBefore(e,u,m)},e.after=function(u,m){return u=u.replace(/^Matter./,""),t.chainPathAfter(e,u,m)}},function(T,U,v){var e={};T.exports=e;var d=v(6),t=v(10),u=v(0),m=v(4),o=v(12),g=u.deprecated;e.stack=function(c,n,a,s,h,x,V){for(var C,D=d.create({label:"Stack"}),F=c,p=n,S=0,y=0;y<s;y++){for(var A=0,P=0;P<a;P++){var w=V(F,p,P,y,C,S);if(w){var E=w.bounds.max.y-w.bounds.min.y;E>A&&(A=E),m.translate(w,{x:.5*(w.bounds.max.x-w.bounds.min.x),y:.5*E}),F=w.bounds.max.x+h,d.addBody(D,w),C=w,S+=1}else F+=h}p+=A+x,F=c}return D},e.chain=function(c,n,a,s,h,x){for(var V=c.bodies,D=1;D<V.length;D++){var F=V[D-1],p=V[D],w=u.extend({bodyA:F,pointA:{x:(F.bounds.max.x-F.bounds.min.x)*n,y:(F.bounds.max.y-F.bounds.min.y)*a},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*s,y:(p.bounds.max.y-p.bounds.min.y)*h}},x);d.addConstraint(c,t.create(w))}return c.label+=" Chain",c},e.mesh=function(c,n,a,s,h){var V,D,p,x=c.bodies;for(V=0;V<a;V++){for(D=1;D<n;D++)d.addConstraint(c,t.create(u.extend({bodyA:x[D-1+V*n],bodyB:p=x[D+V*n]},h)));if(V>0)for(D=0;D<n;D++)d.addConstraint(c,t.create(u.extend({bodyA:x[D+(V-1)*n],bodyB:p=x[D+V*n]},h))),s&&D>0&&d.addConstraint(c,t.create(u.extend({bodyA:x[D-1+(V-1)*n],bodyB:p},h))),s&&D<n-1&&d.addConstraint(c,t.create(u.extend({bodyA:x[D+1+(V-1)*n],bodyB:p},h)))}return c.label+=" Mesh",c},e.pyramid=function(c,n,a,s,h,x,V){return e.stack(c,n,a,s,h,x,function(D,F,p,C,S,y){var A=Math.min(s,Math.ceil(a/2)),P=S?S.bounds.max.x-S.bounds.min.x:0;if(!(C>A||p<(C=A-C)||p>a-1-C))return 1===y&&m.translate(S,{x:(p+(a%2==1?1:-1))*P,y:0}),V(c+(S?p*P:0)+p*h,F,p,C,S,y)})},e.newtonsCradle=function(c,n,a,s,h){for(var x=d.create({label:"Newtons Cradle"}),V=0;V<a;V++){var F=o.circle(c+V*(1.9*s),n+h,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=t.create({pointA:{x:c+V*(1.9*s),y:n},bodyB:F});d.addBody(x,F),d.addConstraint(x,p)}return x},g(e,"newtonsCradle","Composites.newtonsCradle \u27a4 moved to newtonsCradle example"),e.car=function(c,n,a,s,h){var x=m.nextGroup(!0),D=.5*-a+20,F=.5*a-20,C=d.create({label:"Car"}),S=o.rectangle(c,n,a,s,{collisionFilter:{group:x},chamfer:{radius:.5*s},density:2e-4}),y=o.circle(c+D,n+0,h,{collisionFilter:{group:x},friction:.8}),A=o.circle(c+F,n+0,h,{collisionFilter:{group:x},friction:.8}),P=t.create({bodyB:S,pointB:{x:D,y:0},bodyA:y,stiffness:1,length:0}),w=t.create({bodyB:S,pointB:{x:F,y:0},bodyA:A,stiffness:1,length:0});return d.addBody(C,S),d.addBody(C,y),d.addBody(C,A),d.addConstraint(C,P),d.addConstraint(C,w),C},g(e,"car","Composites.car \u27a4 moved to car example"),e.softBody=function(c,n,a,s,h,x,V,D,F,p){F=u.extend({inertia:1/0},F),p=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var C=e.stack(c,n,a,s,h,x,function(S,y){return o.circle(S,y,D,F)});return e.mesh(C,a,s,V,p),C.label="Soft Body",C},g(e,"softBody","Composites.softBody \u27a4 moved to softBody and cloth examples")},function(T,U,v){var e={};T.exports=e;var d=v(9),t=v(0),u=t.deprecated;e.create=function(m){return t.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},m)},e.update=function(m,o,g,c){var n,a,s,V,D,h=g.world,x=m.buckets,F=!1;for(n=0;n<o.length;n++){var p=o[n];if((!p.isSleeping||c)&&(!h.bounds||!(p.bounds.max.x<h.bounds.min.x||p.bounds.min.x>h.bounds.max.x||p.bounds.max.y<h.bounds.min.y||p.bounds.min.y>h.bounds.max.y))){var C=e._getRegion(m,p);if(!p.region||C.id!==p.region.id||c){(!p.region||c)&&(p.region=C);var S=e._regionUnion(C,p.region);for(a=S.startCol;a<=S.endCol;a++)for(s=S.startRow;s<=S.endRow;s++){V=x[D=e._getBucketId(a,s)];var y=a>=C.startCol&&a<=C.endCol&&s>=C.startRow&&s<=C.endRow,A=a>=p.region.startCol&&a<=p.region.endCol&&s>=p.region.startRow&&s<=p.region.endRow;!y&&A&&A&&V&&e._bucketRemoveBody(m,V,p),(p.region===C||y&&!A||c)&&(V||(V=e._createBucket(x,D)),e._bucketAddBody(m,V,p))}p.region=C,F=!0}}}F&&(m.pairsList=e._createActivePairsList(m))},u(e,"update","Grid.update \u27a4 replaced by Matter.Detector"),e.clear=function(m){m.buckets={},m.pairs={},m.pairsList=[]},u(e,"clear","Grid.clear \u27a4 replaced by Matter.Detector"),e._regionUnion=function(m,o){var g=Math.min(m.startCol,o.startCol),c=Math.max(m.endCol,o.endCol),n=Math.min(m.startRow,o.startRow),a=Math.max(m.endRow,o.endRow);return e._createRegion(g,c,n,a)},e._getRegion=function(m,o){var g=o.bounds,c=Math.floor(g.min.x/m.bucketWidth),n=Math.floor(g.max.x/m.bucketWidth),a=Math.floor(g.min.y/m.bucketHeight),s=Math.floor(g.max.y/m.bucketHeight);return e._createRegion(c,n,a,s)},e._createRegion=function(m,o,g,c){return{id:m+","+o+","+g+","+c,startCol:m,endCol:o,startRow:g,endRow:c}},e._getBucketId=function(m,o){return"C"+m+"R"+o},e._createBucket=function(m,o){return m[o]=[]},e._bucketAddBody=function(m,o,g){var s,c=m.pairs,n=d.id,a=o.length;for(s=0;s<a;s++){var h=o[s];if(!(g.id===h.id||g.isStatic&&h.isStatic)){var x=n(g,h),V=c[x];V?V[2]+=1:c[x]=[g,h,1]}}o.push(g)},e._bucketRemoveBody=function(m,o,g){var a,c=m.pairs,n=d.id;o.splice(t.indexOf(o,g),1);var s=o.length;for(a=0;a<s;a++){var h=c[n(g,o[a])];h&&(h[2]-=1)}},e._createActivePairsList=function(m){var o,s,g=m.pairs,c=t.keys(g),n=c.length,a=[];for(s=0;s<n;s++)(o=g[c[s]])[2]>0?a.push(o):delete g[c[s]];return a}},function(T,U,v){var e={};T.exports=e;var d=v(3),t=v(7),u=v(14),m=v(5),o=v(13),g=v(10),c=v(6),n=v(0),a=v(1);e.create=function(s,h){var x=(s?s.mouse:null)||(h?h.mouse:null);x||(s&&s.render&&s.render.canvas?x=u.create(s.render.canvas):h&&h.element?x=u.create(h.element):(x=u.create(),n.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var V=g.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),F=n.extend({type:"mouseConstraint",mouse:x,element:null,body:null,constraint:V,collisionFilter:{category:1,mask:4294967295,group:0}},h);return m.on(s,"beforeUpdate",function(){var p=c.allBodies(s.world);e.update(F,p),e._triggerEvents(F)}),F},e.update=function(s,h){var x=s.mouse,V=s.constraint,D=s.body;if(0===x.button){if(V.bodyB)t.set(V.bodyB,!1),V.pointA=x.position;else for(var F=0;F<h.length;F++)if(a.contains((D=h[F]).bounds,x.position)&&o.canCollide(D.collisionFilter,s.collisionFilter))for(var p=D.parts.length>1?1:0;p<D.parts.length;p++)if(d.contains(D.parts[p].vertices,x.position)){V.pointA=x.position,V.bodyB=s.body=D,V.pointB={x:x.position.x-D.position.x,y:x.position.y-D.position.y},V.angleB=D.angle,t.set(D,!1),m.trigger(s,"startdrag",{mouse:x,body:D});break}}else V.bodyB=s.body=null,V.pointB=null,D&&m.trigger(s,"enddrag",{mouse:x,body:D})},e._triggerEvents=function(s){var h=s.mouse,x=h.sourceEvents;x.mousemove&&m.trigger(s,"mousemove",{mouse:h}),x.mousedown&&m.trigger(s,"mousedown",{mouse:h}),x.mouseup&&m.trigger(s,"mouseup",{mouse:h}),u.clearSourceEvents(h)}},function(T,U,v){var e={};T.exports=e;var d=v(2),t=v(8),u=v(1),m=v(12),o=v(3);e.collides=function(g,c){for(var n=[],a=c.length,s=g.bounds,h=t.collides,x=u.overlaps,V=0;V<a;V++){var D=c[V],F=D.parts.length,p=1===F?0:1;if(x(D.bounds,s))for(var C=p;C<F;C++){var S=D.parts[C];if(x(S.bounds,s)){var y=h(S,g);if(y){n.push(y);break}}}}return n},e.ray=function(g,c,n,a){a=a||1e-100;for(var s=d.angle(c,n),h=d.magnitude(d.sub(c,n)),D=m.rectangle(.5*(n.x+c.x),.5*(n.y+c.y),h,a,{angle:s}),F=e.collides(D,g),p=0;p<F.length;p+=1){var C=F[p];C.body=C.bodyB=C.bodyA}return F},e.region=function(g,c,n){for(var a=[],s=0;s<g.length;s++){var h=g[s],x=u.overlaps(h.bounds,c);(x&&!n||!x&&n)&&a.push(h)}return a},e.point=function(g,c){for(var n=[],a=0;a<g.length;a++){var s=g[a];if(u.contains(s.bounds,c))for(var h=1===s.parts.length?0:1;h<s.parts.length;h++){var x=s.parts[h];if(u.contains(x.bounds,c)&&o.contains(x.vertices,c)){n.push(s);break}}}return n}},function(T,U,v){var e={};T.exports=e;var d=v(4),t=v(0),u=v(6),m=v(1),o=v(5),g=v(2),c=v(14);!function(){var n,a;typeof window<"u"&&(n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(t.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(p){var S=t.extend({engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},p);return S.canvas&&(S.canvas.width=S.options.width||S.canvas.width,S.canvas.height=S.options.height||S.canvas.height),S.mouse=p.mouse,S.engine=p.engine,S.canvas=S.canvas||x(S.options.width,S.options.height),S.context=S.canvas.getContext("2d"),S.textures={},S.bounds=S.bounds||{min:{x:0,y:0},max:{x:S.canvas.width,y:S.canvas.height}},S.controller=e,S.options.showBroadphase=!1,1!==S.options.pixelRatio&&e.setPixelRatio(S,S.options.pixelRatio),t.isElement(S.element)&&S.element.appendChild(S.canvas),S},e.run=function(p){!function C(S){p.frameRequestId=n(C),s(p,S),e.world(p,S),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&e.stats(p,p.context,S),(p.options.showPerformance||p.options.showDebug)&&e.performance(p,p.context,S),p.context.setTransform(1,0,0,1,0,0)}()},e.stop=function(p){a(p.frameRequestId)},e.setPixelRatio=function(p,C){var S=p.options,y=p.canvas;"auto"===C&&(C=V(y)),S.pixelRatio=C,y.setAttribute("data-pixel-ratio",C),y.width=S.width*C,y.height=S.height*C,y.style.width=S.width+"px",y.style.height=S.height+"px"},e.setSize=function(p,C,S){p.options.width=C,p.options.height=S,p.bounds.max.x=p.bounds.min.x+C,p.bounds.max.y=p.bounds.min.y+S,1!==p.options.pixelRatio?e.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=C,p.canvas.height=S)},e.lookAt=function(p,C,S,y){y=!(typeof y<"u")||y,C=t.isArray(C)?C:[C],S=S||{x:0,y:0};for(var A={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},P=0;P<C.length;P+=1){var w=C[P],E=w.bounds?w.bounds.min:w.min||w.position||w,b=w.bounds?w.bounds.max:w.max||w.position||w;E&&b&&(E.x<A.min.x&&(A.min.x=E.x),b.x>A.max.x&&(A.max.x=b.x),E.y<A.min.y&&(A.min.y=E.y),b.y>A.max.y&&(A.max.y=b.y))}var O=A.max.x-A.min.x+2*S.x,_=A.max.y-A.min.y+2*S.y,R=p.canvas.width/p.canvas.height,G=O/_,W=1,j=1;G>R?j=G/R:W=R/G,p.options.hasBounds=!0,p.bounds.min.x=A.min.x,p.bounds.max.x=A.min.x+O*W,p.bounds.min.y=A.min.y,p.bounds.max.y=A.min.y+_*j,y&&(p.bounds.min.x+=.5*O-O*W*.5,p.bounds.max.x+=.5*O-O*W*.5,p.bounds.min.y+=.5*_-_*j*.5,p.bounds.max.y+=.5*_-_*j*.5),p.bounds.min.x-=S.x,p.bounds.max.x-=S.x,p.bounds.min.y-=S.y,p.bounds.max.y-=S.y,p.mouse&&(c.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),c.setOffset(p.mouse,p.bounds.min))},e.startViewTransform=function(p){p.context.setTransform(p.options.pixelRatio/((p.bounds.max.x-p.bounds.min.x)/p.options.width),0,0,p.options.pixelRatio/((p.bounds.max.y-p.bounds.min.y)/p.options.height),0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},e.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},e.world=function(p,C){var G,S=t.now(),y=p.engine,A=y.world,P=p.canvas,w=p.context,E=p.options,b=p.timing,O=u.allBodies(A),_=u.allConstraints(A),k=E.wireframes?E.wireframeBackground:E.background,I=[],R=[],W={timestamp:y.timing.timestamp};if(o.trigger(p,"beforeRender",W),p.currentBackground!==k&&F(p,k),w.globalCompositeOperation="source-in",w.fillStyle="transparent",w.fillRect(0,0,P.width,P.height),w.globalCompositeOperation="source-over",E.hasBounds){for(G=0;G<O.length;G++){var j=O[G];m.overlaps(j.bounds,p.bounds)&&I.push(j)}for(G=0;G<_.length;G++){var X=_[G],J=X.bodyA,st=X.bodyB,q=X.pointA,L=X.pointB;J&&(q=g.add(J.position,X.pointA)),st&&(L=g.add(st.position,X.pointB)),q&&L&&(m.contains(p.bounds,q)||m.contains(p.bounds,L))&&R.push(X)}e.startViewTransform(p),p.mouse&&(c.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),c.setOffset(p.mouse,p.bounds.min))}else R=_,I=O,1!==p.options.pixelRatio&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!E.wireframes||y.enableSleeping&&E.showSleeping?e.bodies(p,I,w):(E.showConvexHulls&&e.bodyConvexHulls(p,I,w),e.bodyWireframes(p,I,w)),E.showBounds&&e.bodyBounds(p,I,w),(E.showAxes||E.showAngleIndicator)&&e.bodyAxes(p,I,w),E.showPositions&&e.bodyPositions(p,I,w),E.showVelocity&&e.bodyVelocity(p,I,w),E.showIds&&e.bodyIds(p,I,w),E.showSeparations&&e.separations(p,y.pairs.list,w),E.showCollisions&&e.collisions(p,y.pairs.list,w),E.showVertexNumbers&&e.vertexNumbers(p,I,w),E.showMousePosition&&e.mousePosition(p,p.mouse,w),e.constraints(R,w),E.hasBounds&&e.endViewTransform(p),o.trigger(p,"afterRender",W),b.lastElapsed=t.now()-S},e.stats=function(p,C,S){for(var y=p.engine,A=y.world,P=u.allBodies(A),w=0,O=0,k=0;k<P.length;k+=1)w+=P[k].parts.length;var I={Part:w,Body:P.length,Cons:u.allConstraints(A).length,Comp:u.allComposites(A).length,Pair:y.pairs.list.length};for(var R in C.fillStyle="#0e0f19",C.fillRect(O,0,302.5,44),C.font="12px Arial",C.textBaseline="top",C.textAlign="right",I){var G=I[R];C.fillStyle="#aaa",C.fillText(R,O+55,8),C.fillStyle="#eee",C.fillText(G,O+55,26),O+=55}},e.performance=function(p,C){var S=p.engine,y=p.timing,A=y.deltaHistory,P=y.elapsedHistory,w=y.timestampElapsedHistory,E=y.engineDeltaHistory,b=y.engineUpdatesHistory,O=y.engineElapsedHistory,_=S.timing.lastUpdatesPerFrame,k=S.timing.lastDelta,I=h(A),R=h(P),G=h(E),W=h(b),j=h(O),J=h(w)/I||0,st=Math.round(I/k),q=1e3/I||0,$=60;C.fillStyle="#0e0f19",C.fillRect(0,50,442,34),e.status(C,10,69,$,4,A.length,Math.round(q)+" fps",q/e._goodFps,function(Q){return A[Q]/I-1}),e.status(C,82,69,$,4,E.length,k.toFixed(2)+" dt",e._goodDelta/k,function(Q){return E[Q]/G-1}),e.status(C,154,69,$,4,b.length,_+" upf",Math.pow(t.clamp(W/st||1,0,1),4),function(Q){return b[Q]/W-1}),e.status(C,226,69,$,4,O.length,j.toFixed(2)+" ut",1-_*j/e._goodFps,function(Q){return O[Q]/j-1}),e.status(C,298,69,$,4,P.length,R.toFixed(2)+" rt",1-R/e._goodFps,function(Q){return P[Q]/R-1}),e.status(C,370,69,$,4,w.length,J.toFixed(2)+" x",J*J*J,function(Q){return(w[Q]/A[Q]/J||0)-1})},e.status=function(p,C,S,y,A,P,w,E,b){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(C,S+7,y,1),p.beginPath(),p.moveTo(C,S+7-A*t.clamp(.4*b(0),-2,2));for(var O=0;O<y;O+=1)p.lineTo(C+O,S+7-(O<P?A*t.clamp(.4*b(O),-2,2):0));p.stroke(),p.fillStyle="hsl("+t.clamp(25+95*E,0,120)+",100%,60%)",p.fillRect(C,S-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(w,C+y,S-5)},e.constraints=function(p,C){for(var S=C,y=0;y<p.length;y++){var A=p[y];if(A.render.visible&&A.pointA&&A.pointB){var E,b,P=A.bodyA,w=A.bodyB;if(E=P?g.add(P.position,A.pointA):A.pointA,"pin"===A.render.type)S.beginPath(),S.arc(E.x,E.y,3,0,2*Math.PI),S.closePath();else{if(b=w?g.add(w.position,A.pointB):A.pointB,S.beginPath(),S.moveTo(E.x,E.y),"spring"===A.render.type)for(var I,O=g.sub(b,E),_=g.perp(g.normalise(O)),k=Math.ceil(t.clamp(A.length/5,12,20)),R=1;R<k;R+=1)S.lineTo(E.x+O.x*(R/k)+_.x*(I=R%2==0?1:-1)*4,E.y+O.y*(R/k)+_.y*I*4);S.lineTo(b.x,b.y)}A.render.lineWidth&&(S.lineWidth=A.render.lineWidth,S.strokeStyle=A.render.strokeStyle,S.stroke()),A.render.anchors&&(S.fillStyle=A.render.strokeStyle,S.beginPath(),S.arc(E.x,E.y,3,0,2*Math.PI),S.arc(b.x,b.y,3,0,2*Math.PI),S.closePath(),S.fill())}}},e.bodies=function(p,C,S){var E,b,O,_,y=S,P=p.options,w=P.showInternalEdges||!P.wireframes;for(O=0;O<C.length;O++)if((E=C[O]).render.visible)for(_=E.parts.length>1?1:0;_<E.parts.length;_++)if((b=E.parts[_]).render.visible){if(P.showSleeping&&E.isSleeping?y.globalAlpha=.5*b.render.opacity:1!==b.render.opacity&&(y.globalAlpha=b.render.opacity),b.render.sprite&&b.render.sprite.texture&&!P.wireframes){var k=b.render.sprite,I=D(p,k.texture);y.translate(b.position.x,b.position.y),y.rotate(b.angle),y.drawImage(I,I.width*-k.xOffset*k.xScale,I.height*-k.yOffset*k.yScale,I.width*k.xScale,I.height*k.yScale),y.rotate(-b.angle),y.translate(-b.position.x,-b.position.y)}else{if(b.circleRadius)y.beginPath(),y.arc(b.position.x,b.position.y,b.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(b.vertices[0].x,b.vertices[0].y);for(var R=1;R<b.vertices.length;R++)!b.vertices[R-1].isInternal||w?y.lineTo(b.vertices[R].x,b.vertices[R].y):y.moveTo(b.vertices[R].x,b.vertices[R].y),b.vertices[R].isInternal&&!w&&y.moveTo(b.vertices[(R+1)%b.vertices.length].x,b.vertices[(R+1)%b.vertices.length].y);y.lineTo(b.vertices[0].x,b.vertices[0].y),y.closePath()}P.wireframes?(y.lineWidth=1,y.strokeStyle=p.options.wireframeStrokeStyle,y.stroke()):(y.fillStyle=b.render.fillStyle,b.render.lineWidth&&(y.lineWidth=b.render.lineWidth,y.strokeStyle=b.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}},e.bodyWireframes=function(p,C,S){var P,w,E,b,O,y=S,A=p.options.showInternalEdges;for(y.beginPath(),E=0;E<C.length;E++)if((P=C[E]).render.visible)for(O=P.parts.length>1?1:0;O<P.parts.length;O++){for(y.moveTo((w=P.parts[O]).vertices[0].x,w.vertices[0].y),b=1;b<w.vertices.length;b++)!w.vertices[b-1].isInternal||A?y.lineTo(w.vertices[b].x,w.vertices[b].y):y.moveTo(w.vertices[b].x,w.vertices[b].y),w.vertices[b].isInternal&&!A&&y.moveTo(w.vertices[(b+1)%w.vertices.length].x,w.vertices[(b+1)%w.vertices.length].y);y.lineTo(w.vertices[0].x,w.vertices[0].y)}y.lineWidth=1,y.strokeStyle=p.options.wireframeStrokeStyle,y.stroke()},e.bodyConvexHulls=function(p,C,S){var A,w,E,y=S;for(y.beginPath(),w=0;w<C.length;w++)if((A=C[w]).render.visible&&1!==A.parts.length){for(y.moveTo(A.vertices[0].x,A.vertices[0].y),E=1;E<A.vertices.length;E++)y.lineTo(A.vertices[E].x,A.vertices[E].y);y.lineTo(A.vertices[0].x,A.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},e.vertexNumbers=function(p,C,S){var A,P,w,y=S;for(A=0;A<C.length;A++){var E=C[A].parts;for(w=E.length>1?1:0;w<E.length;w++){var b=E[w];for(P=0;P<b.vertices.length;P++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(A+"_"+P,b.position.x+.8*(b.vertices[P].x-b.position.x),b.position.y+.8*(b.vertices[P].y-b.position.y))}}},e.mousePosition=function(p,C,S){var y=S;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(C.position.x+"  "+C.position.y,C.position.x+5,C.position.y-5)},e.bodyBounds=function(p,C,S){var y=S,P=p.options;y.beginPath();for(var w=0;w<C.length;w++)if(C[w].render.visible)for(var b=C[w].parts,O=b.length>1?1:0;O<b.length;O++){var _=b[O];y.rect(_.bounds.min.x,_.bounds.min.y,_.bounds.max.x-_.bounds.min.x,_.bounds.max.y-_.bounds.min.y)}y.strokeStyle=P.wireframes?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},e.bodyAxes=function(p,C,S){var w,E,b,O,y=S,P=p.options;for(y.beginPath(),E=0;E<C.length;E++){var _=C[E],k=_.parts;if(_.render.visible)if(P.showAxes)for(b=k.length>1?1:0;b<k.length;b++)for(w=k[b],O=0;O<w.axes.length;O++){var I=w.axes[O];y.moveTo(w.position.x,w.position.y),y.lineTo(w.position.x+20*I.x,w.position.y+20*I.y)}else for(b=k.length>1?1:0;b<k.length;b++)for(w=k[b],O=0;O<w.axes.length;O++)y.moveTo(w.position.x,w.position.y),y.lineTo((w.vertices[0].x+w.vertices[w.vertices.length-1].x)/2,(w.vertices[0].y+w.vertices[w.vertices.length-1].y)/2)}P.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},e.bodyPositions=function(p,C,S){var w,E,b,O,y=S,P=p.options;for(y.beginPath(),b=0;b<C.length;b++)if((w=C[b]).render.visible)for(O=0;O<w.parts.length;O++)y.arc((E=w.parts[O]).position.x,E.position.y,3,0,2*Math.PI,!1),y.closePath();for(y.fillStyle=P.wireframes?"indianred":"rgba(0,0,0,0.5)",y.fill(),y.beginPath(),b=0;b<C.length;b++)(w=C[b]).render.visible&&(y.arc(w.positionPrev.x,w.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},e.bodyVelocity=function(p,C,S){var y=S;y.beginPath();for(var A=0;A<C.length;A++){var P=C[A];if(P.render.visible){var w=d.getVelocity(P);y.moveTo(P.position.x,P.position.y),y.lineTo(P.position.x+w.x,P.position.y+w.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},e.bodyIds=function(p,C,S){var A,P,y=S;for(A=0;A<C.length;A++)if(C[A].render.visible){var w=C[A].parts;for(P=w.length>1?1:0;P<w.length;P++){var E=w[P];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(E.id,E.position.x+10,E.position.y-10)}}},e.collisions=function(p,C,S){var P,w,_,k,y=S,A=p.options;for(y.beginPath(),_=0;_<C.length;_++)if((P=C[_]).isActive)for(w=P.collision,k=0;k<P.contactCount;k++){var R=P.contacts[k].vertex;y.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(y.fillStyle=A.wireframes?"rgba(255,255,255,0.7)":"orange",y.fill(),y.beginPath(),_=0;_<C.length;_++)if((P=C[_]).isActive&&(w=P.collision,P.contactCount>0)){var G=P.contacts[0].vertex.x,W=P.contacts[0].vertex.y;2===P.contactCount&&(G=(P.contacts[0].vertex.x+P.contacts[1].vertex.x)/2,W=(P.contacts[0].vertex.y+P.contacts[1].vertex.y)/2),w.bodyB===w.supports[0].body||!0===w.bodyA.isStatic?y.moveTo(G-8*w.normal.x,W-8*w.normal.y):y.moveTo(G+8*w.normal.x,W+8*w.normal.y),y.lineTo(G,W)}y.strokeStyle=A.wireframes?"rgba(255,165,0,0.7)":"orange",y.lineWidth=1,y.stroke()},e.separations=function(p,C,S){var P,w,b,O,_,y=S,A=p.options;for(y.beginPath(),_=0;_<C.length;_++)if((P=C[_]).isActive){b=(w=P.collision).bodyA;var I=1;!(O=w.bodyB).isStatic&&!b.isStatic&&(I=.5),O.isStatic&&(I=0),y.moveTo(O.position.x,O.position.y),y.lineTo(O.position.x-w.penetration.x*I,O.position.y-w.penetration.y*I),I=1,!O.isStatic&&!b.isStatic&&(I=.5),b.isStatic&&(I=0),y.moveTo(b.position.x,b.position.y),y.lineTo(b.position.x+w.penetration.x*I,b.position.y+w.penetration.y*I)}y.strokeStyle=A.wireframes?"rgba(255,165,0,0.5)":"orange",y.stroke()},e.inspector=function(p,C){var w,y=p.selected,A=p.render,P=A.options;P.hasBounds&&(C.scale(1/((A.bounds.max.x-A.bounds.min.x)/A.options.width),1/((A.bounds.max.y-A.bounds.min.y)/A.options.height)),C.translate(-A.bounds.min.x,-A.bounds.min.y));for(var k=0;k<y.length;k++){var I=y[k].data;switch(C.translate(.5,.5),C.lineWidth=1,C.strokeStyle="rgba(255,165,0,0.9)",C.setLineDash([1,2]),I.type){case"body":w=I.bounds,C.beginPath(),C.rect(Math.floor(w.min.x-3),Math.floor(w.min.y-3),Math.floor(w.max.x-w.min.x+6),Math.floor(w.max.y-w.min.y+6)),C.closePath(),C.stroke();break;case"constraint":var R=I.pointA;I.bodyA&&(R=I.pointB),C.beginPath(),C.arc(R.x,R.y,10,0,2*Math.PI),C.closePath(),C.stroke()}C.setLineDash([]),C.translate(-.5,-.5)}null!==p.selectStart&&(C.translate(.5,.5),C.lineWidth=1,C.strokeStyle="rgba(255,165,0,0.6)",C.fillStyle="rgba(255,165,0,0.1)",w=p.selectBounds,C.beginPath(),C.rect(Math.floor(w.min.x),Math.floor(w.min.y),Math.floor(w.max.x-w.min.x),Math.floor(w.max.y-w.min.y)),C.closePath(),C.stroke(),C.fill(),C.translate(-.5,-.5)),P.hasBounds&&C.setTransform(1,0,0,1,0,0)};var s=function(p,C){var S=p.engine,y=p.timing,A=y.historySize,P=S.timing.timestamp;y.delta=C-y.lastTime||e._goodDelta,y.lastTime=C,y.timestampElapsed=P-y.lastTimestamp||0,y.lastTimestamp=P,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,A),y.engineDeltaHistory.unshift(S.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,A),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,A),y.engineUpdatesHistory.unshift(S.timing.lastUpdatesPerFrame),y.engineUpdatesHistory.length=Math.min(y.engineUpdatesHistory.length,A),y.engineElapsedHistory.unshift(S.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,A),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,A)},h=function(p){for(var C=0,S=0;S<p.length;S+=1)C+=p[S];return C/p.length||0},x=function(p,C){var S=document.createElement("canvas");return S.width=p,S.height=C,S.oncontextmenu=function(){return!1},S.onselectstart=function(){return!1},S},V=function(p){var C=p.getContext("2d");return(window.devicePixelRatio||1)/(C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1)},D=function(p,C){var S=p.textures[C];return S||((S=p.textures[C]=new Image).src=C,S)},F=function(p,C){var S=C;/(jpg|gif|png)$/.test(C)&&(S="url("+C+")"),p.canvas.style.background=S,p.canvas.style.backgroundSize="contain",p.currentBackground=C}}()},function(T,U,v){var e={};T.exports=e;var d=v(5),t=v(17),u=v(0);!function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(o){var c=u.extend({delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o);return c.fps=0,c},e.run=function(o,g){return o.timeBuffer=e._frameDeltaFallback,function c(n){o.frameRequestId=e._onNextFrame(o,c),n&&o.enabled&&e.tick(o,g,n)}(),o},e.tick=function(o,g,c){var n=u.now(),a=o.delta,s=0,h=c-o.timeLastTick;if((!h||!o.timeLastTick||h>Math.max(e._maxFrameDelta,o.maxFrameTime))&&(h=o.frameDelta||e._frameDeltaFallback),o.frameDeltaSmoothing){o.frameDeltaHistory.push(h),o.frameDeltaHistory=o.frameDeltaHistory.slice(-o.frameDeltaHistorySize);var x=o.frameDeltaHistory.slice(0).sort(),V=o.frameDeltaHistory.slice(x.length*e._smoothingLowerBound,x.length*e._smoothingUpperBound);h=m(V)||h}o.frameDeltaSnapping&&(h=1e3/Math.round(1e3/h)),o.frameDelta=h,o.timeLastTick=c,o.timeBuffer+=o.frameDelta,o.timeBuffer=u.clamp(o.timeBuffer,0,o.frameDelta+a*e._timeBufferMargin),o.lastUpdatesDeferred=0;var F=o.maxUpdates||Math.ceil(o.maxFrameTime/a),p={timestamp:g.timing.timestamp};d.trigger(o,"beforeTick",p),d.trigger(o,"tick",p);for(var C=u.now();a>0&&o.timeBuffer>=a*e._timeBufferMargin;){d.trigger(o,"beforeUpdate",p),t.update(g,a),d.trigger(o,"afterUpdate",p),o.timeBuffer-=a,s+=1;var S=u.now()-n,y=u.now()-C;if(s>=F||S+e._elapsedNextEstimate*y/s>o.maxFrameTime){o.lastUpdatesDeferred=Math.round(Math.max(0,o.timeBuffer/a-e._timeBufferMargin));break}}g.timing.lastUpdatesPerFrame=s,d.trigger(o,"afterTick",p),o.frameDeltaHistory.length>=100&&(o.lastUpdatesDeferred&&Math.round(o.frameDelta/a)>F?u.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):o.lastUpdatesDeferred&&u.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof o.isFixed<"u"&&u.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(o.deltaMin||o.deltaMax)&&u.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==o.fps&&u.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(o){e._cancelNextFrame(o)},e._onNextFrame=function(o,g){if(!(typeof window<"u"&&window.requestAnimationFrame))throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return o.frameRequestId=window.requestAnimationFrame(g),o.frameRequestId},e._cancelNextFrame=function(o){if(!(typeof window<"u"&&window.cancelAnimationFrame))throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(o.frameRequestId)};var m=function(o){for(var g=0,c=o.length,n=0;n<c;n+=1)g+=o[n];return g/c||0}}()},function(T,U,v){var e={};T.exports=e;var d=v(8),u=v(0).deprecated;e.collides=function(m,o){return d.collides(m,o)},u(e,"collides","SAT.collides \u27a4 replaced by Collision.collides")},function(T,U,v){var e={};T.exports=e,v(1);var t=v(0);e.pathToVertices=function(u,m){typeof window<"u"&&!("SVGPathSeg"in window)&&t.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,g,c,n,a,s,h,x,V,p,C,F=[],S=0,y=0,A=0;m=m||15;var P=function(E,b,O){var _=O%2==1&&O>1;if(!V||E!=V.x||b!=V.y){V&&_?(p=V.x,C=V.y):(p=0,C=0);var k={x:p+E,y:C+b};(_||!V)&&(V=k),F.push(k),y=p+E,A=C+b}},w=function(E){var b=E.pathSegTypeAsLetter.toUpperCase();if("Z"!==b){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":y=E.x,A=E.y;break;case"H":y=E.x;break;case"V":A=E.y}P(y,A,E.pathSegType)}};for(e._svgPathToAbsolute(u),c=u.getTotalLength(),s=[],o=0;o<u.pathSegList.numberOfItems;o+=1)s.push(u.pathSegList.getItem(o));for(h=s.concat();S<c;){if((a=s[u.getPathSegAtLength(S)])!=x){for(;h.length&&h[0]!=a;)w(h.shift());x=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":n=u.getPointAtLength(S),P(n.x,n.y,0)}S+=m}for(o=0,g=h.length;o<g;++o)w(h[o]);return F},e._svgPathToAbsolute=function(u){for(var m,o,g,c,n,a,s=u.pathSegList,h=0,x=0,V=s.numberOfItems,D=0;D<V;++D){var F=s.getItem(D),p=F.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in F&&(h=F.x),"y"in F&&(x=F.y);else switch("x1"in F&&(g=h+F.x1),"x2"in F&&(n=h+F.x2),"y1"in F&&(c=x+F.y1),"y2"in F&&(a=x+F.y2),"x"in F&&(h+=F.x),"y"in F&&(x+=F.y),p){case"m":s.replaceItem(u.createSVGPathSegMovetoAbs(h,x),D);break;case"l":s.replaceItem(u.createSVGPathSegLinetoAbs(h,x),D);break;case"h":s.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(h),D);break;case"v":s.replaceItem(u.createSVGPathSegLinetoVerticalAbs(x),D);break;case"c":s.replaceItem(u.createSVGPathSegCurvetoCubicAbs(h,x,g,c,n,a),D);break;case"s":s.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(h,x,n,a),D);break;case"q":s.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(h,x,g,c),D);break;case"t":s.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(h,x),D);break;case"a":s.replaceItem(u.createSVGPathSegArcAbs(h,x,F.r1,F.r2,F.angle,F.largeArcFlag,F.sweepFlag),D);break;case"z":case"Z":h=m,x=o}("M"==p||"m"==p)&&(m=h,o=x)}}},function(T,U,v){var e={};T.exports=e;var d=v(6);v(0),e.create=d.create,e.add=d.add,e.remove=d.remove,e.clear=d.clear,e.addComposite=d.addComposite,e.addBody=d.addBody,e.addConstraint=d.addConstraint}])}}]);